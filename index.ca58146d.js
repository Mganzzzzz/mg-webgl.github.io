var W0=Object.defineProperty;var G0=(d,f,o)=>f in d?W0(d,f,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[f]=o;var Vs=(d,f,o)=>(G0(d,typeof f!="symbol"?f+"":f,o),o);const X0=function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))g(w);new MutationObserver(w=>{for(const E of w)if(E.type==="childList")for(const T of E.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&g(T)}).observe(document,{childList:!0,subtree:!0});function o(w){const E={};return w.integrity&&(E.integrity=w.integrity),w.referrerpolicy&&(E.referrerPolicy=w.referrerpolicy),w.crossorigin==="use-credentials"?E.credentials="include":w.crossorigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function g(w){if(w.ep)return;w.ep=!0;const E=o(w);fetch(w.href,E)}};X0();var Me=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},jr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(d,f){(function(){var o,g="4.17.21",w=200,E="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",T="Expected a function",Z="Invalid `variable` option passed into `_.template`",yt="__lodash_hash_undefined__",mt=500,Y="__lodash_placeholder__",O=1,G=2,ut=4,Ft=1,Jt=2,nt=1,st=2,ne=4,Lt=8,Fn=16,Yt=32,On=64,Qt=128,ee=256,yi=512,Hs=30,qs="...",Ks=800,$s=16,oo=1,zs=2,Zs=3,Rn=1/0,dn=9007199254740991,Js=17976931348623157e292,Se=0/0,Ht=4294967295,Qs=Ht-1,ks=Ht>>>1,js=[["ary",Qt],["bind",nt],["bindKey",st],["curry",Lt],["curryRight",Fn],["flip",yi],["partial",Yt],["partialRight",On],["rearg",ee]],Vn="[object Arguments]",Pe="[object Array]",tf="[object AsyncFunction]",ie="[object Boolean]",re="[object Date]",nf="[object DOMException]",be="[object Error]",Ce="[object Function]",uo="[object GeneratorFunction]",Ot="[object Map]",oe="[object Number]",ef="[object Null]",kt="[object Object]",so="[object Promise]",rf="[object Proxy]",ue="[object RegExp]",Vt="[object Set]",se="[object String]",Ie="[object Symbol]",of="[object Undefined]",fe="[object WeakMap]",uf="[object WeakSet]",ae="[object ArrayBuffer]",Nn="[object DataView]",Li="[object Float32Array]",Si="[object Float64Array]",Pi="[object Int8Array]",bi="[object Int16Array]",Ci="[object Int32Array]",Ii="[object Uint8Array]",Bi="[object Uint8ClampedArray]",Ui="[object Uint16Array]",Di="[object Uint32Array]",sf=/\b__p \+= '';/g,ff=/\b(__p \+=) '' \+/g,af=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fo=/&(?:amp|lt|gt|quot|#39);/g,ao=/[&<>"']/g,lf=RegExp(fo.source),cf=RegExp(ao.source),hf=/<%-([\s\S]+?)%>/g,df=/<%([\s\S]+?)%>/g,lo=/<%=([\s\S]+?)%>/g,gf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wf=/^\w*$/,pf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fi=/[\\^$.*+?()[\]{}|]/g,mf=RegExp(Fi.source),Oi=/^\s+/,_f=/\s/,vf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xf=/\{\n\/\* \[wrapped with (.+)\] \*/,Ef=/,? & /,Af=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tf=/[()=,{}\[\]\/\s]/,Rf=/\\(\\)?/g,Mf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,co=/\w*$/,yf=/^[-+]0x[0-9a-f]+$/i,Lf=/^0b[01]+$/i,Sf=/^\[object .+?Constructor\]$/,Pf=/^0o[0-7]+$/i,bf=/^(?:0|[1-9]\d*)$/,Cf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Be=/($^)/,If=/['\n\r\u2028\u2029\\]/g,Ue="\\ud800-\\udfff",Bf="\\u0300-\\u036f",Uf="\\ufe20-\\ufe2f",Df="\\u20d0-\\u20ff",ho=Bf+Uf+Df,go="\\u2700-\\u27bf",wo="a-z\\xdf-\\xf6\\xf8-\\xff",Ff="\\xac\\xb1\\xd7\\xf7",Of="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vf="\\u2000-\\u206f",Nf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",po="A-Z\\xc0-\\xd6\\xd8-\\xde",mo="\\ufe0e\\ufe0f",_o=Ff+Of+Vf+Nf,Vi="['\u2019]",Wf="["+Ue+"]",vo="["+_o+"]",De="["+ho+"]",xo="\\d+",Gf="["+go+"]",Eo="["+wo+"]",Ao="[^"+Ue+_o+xo+go+wo+po+"]",Ni="\\ud83c[\\udffb-\\udfff]",Xf="(?:"+De+"|"+Ni+")",To="[^"+Ue+"]",Wi="(?:\\ud83c[\\udde6-\\uddff]){2}",Gi="[\\ud800-\\udbff][\\udc00-\\udfff]",Wn="["+po+"]",Ro="\\u200d",Mo="(?:"+Eo+"|"+Ao+")",Yf="(?:"+Wn+"|"+Ao+")",yo="(?:"+Vi+"(?:d|ll|m|re|s|t|ve))?",Lo="(?:"+Vi+"(?:D|LL|M|RE|S|T|VE))?",So=Xf+"?",Po="["+mo+"]?",Hf="(?:"+Ro+"(?:"+[To,Wi,Gi].join("|")+")"+Po+So+")*",qf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bo=Po+So+Hf,$f="(?:"+[Gf,Wi,Gi].join("|")+")"+bo,zf="(?:"+[To+De+"?",De,Wi,Gi,Wf].join("|")+")",Zf=RegExp(Vi,"g"),Jf=RegExp(De,"g"),Xi=RegExp(Ni+"(?="+Ni+")|"+zf+bo,"g"),Qf=RegExp([Wn+"?"+Eo+"+"+yo+"(?="+[vo,Wn,"$"].join("|")+")",Yf+"+"+Lo+"(?="+[vo,Wn+Mo,"$"].join("|")+")",Wn+"?"+Mo+"+"+yo,Wn+"+"+Lo,Kf,qf,xo,$f].join("|"),"g"),kf=RegExp("["+Ro+Ue+ho+mo+"]"),jf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ta=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],na=-1,q={};q[Li]=q[Si]=q[Pi]=q[bi]=q[Ci]=q[Ii]=q[Bi]=q[Ui]=q[Di]=!0,q[Vn]=q[Pe]=q[ae]=q[ie]=q[Nn]=q[re]=q[be]=q[Ce]=q[Ot]=q[oe]=q[kt]=q[ue]=q[Vt]=q[se]=q[fe]=!1;var H={};H[Vn]=H[Pe]=H[ae]=H[Nn]=H[ie]=H[re]=H[Li]=H[Si]=H[Pi]=H[bi]=H[Ci]=H[Ot]=H[oe]=H[kt]=H[ue]=H[Vt]=H[se]=H[Ie]=H[Ii]=H[Bi]=H[Ui]=H[Di]=!0,H[be]=H[Ce]=H[fe]=!1;var ea={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ia={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ra={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ua=parseFloat,sa=parseInt,Co=typeof Me=="object"&&Me&&Me.Object===Object&&Me,fa=typeof self=="object"&&self&&self.Object===Object&&self,et=Co||fa||Function("return this")(),Yi=f&&!f.nodeType&&f,Mn=Yi&&!0&&d&&!d.nodeType&&d,Io=Mn&&Mn.exports===Yi,Hi=Io&&Co.process,St=function(){try{var c=Mn&&Mn.require&&Mn.require("util").types;return c||Hi&&Hi.binding&&Hi.binding("util")}catch{}}(),Bo=St&&St.isArrayBuffer,Uo=St&&St.isDate,Do=St&&St.isMap,Fo=St&&St.isRegExp,Oo=St&&St.isSet,Vo=St&&St.isTypedArray;function _t(c,m,p){switch(p.length){case 0:return c.call(m);case 1:return c.call(m,p[0]);case 2:return c.call(m,p[0],p[1]);case 3:return c.call(m,p[0],p[1],p[2])}return c.apply(m,p)}function aa(c,m,p,R){for(var P=-1,V=c==null?0:c.length;++P<V;){var k=c[P];m(R,k,p(k),c)}return R}function Pt(c,m){for(var p=-1,R=c==null?0:c.length;++p<R&&m(c[p],p,c)!==!1;);return c}function la(c,m){for(var p=c==null?0:c.length;p--&&m(c[p],p,c)!==!1;);return c}function No(c,m){for(var p=-1,R=c==null?0:c.length;++p<R;)if(!m(c[p],p,c))return!1;return!0}function gn(c,m){for(var p=-1,R=c==null?0:c.length,P=0,V=[];++p<R;){var k=c[p];m(k,p,c)&&(V[P++]=k)}return V}function Fe(c,m){var p=c==null?0:c.length;return!!p&&Gn(c,m,0)>-1}function qi(c,m,p){for(var R=-1,P=c==null?0:c.length;++R<P;)if(p(m,c[R]))return!0;return!1}function K(c,m){for(var p=-1,R=c==null?0:c.length,P=Array(R);++p<R;)P[p]=m(c[p],p,c);return P}function wn(c,m){for(var p=-1,R=m.length,P=c.length;++p<R;)c[P+p]=m[p];return c}function Ki(c,m,p,R){var P=-1,V=c==null?0:c.length;for(R&&V&&(p=c[++P]);++P<V;)p=m(p,c[P],P,c);return p}function ca(c,m,p,R){var P=c==null?0:c.length;for(R&&P&&(p=c[--P]);P--;)p=m(p,c[P],P,c);return p}function $i(c,m){for(var p=-1,R=c==null?0:c.length;++p<R;)if(m(c[p],p,c))return!0;return!1}var ha=zi("length");function da(c){return c.split("")}function ga(c){return c.match(Af)||[]}function Wo(c,m,p){var R;return p(c,function(P,V,k){if(m(P,V,k))return R=V,!1}),R}function Oe(c,m,p,R){for(var P=c.length,V=p+(R?1:-1);R?V--:++V<P;)if(m(c[V],V,c))return V;return-1}function Gn(c,m,p){return m===m?ya(c,m,p):Oe(c,Go,p)}function wa(c,m,p,R){for(var P=p-1,V=c.length;++P<V;)if(R(c[P],m))return P;return-1}function Go(c){return c!==c}function Xo(c,m){var p=c==null?0:c.length;return p?Ji(c,m)/p:Se}function zi(c){return function(m){return m==null?o:m[c]}}function Zi(c){return function(m){return c==null?o:c[m]}}function Yo(c,m,p,R,P){return P(c,function(V,k,X){p=R?(R=!1,V):m(p,V,k,X)}),p}function pa(c,m){var p=c.length;for(c.sort(m);p--;)c[p]=c[p].value;return c}function Ji(c,m){for(var p,R=-1,P=c.length;++R<P;){var V=m(c[R]);V!==o&&(p=p===o?V:p+V)}return p}function Qi(c,m){for(var p=-1,R=Array(c);++p<c;)R[p]=m(p);return R}function ma(c,m){return K(m,function(p){return[p,c[p]]})}function Ho(c){return c&&c.slice(0,zo(c)+1).replace(Oi,"")}function vt(c){return function(m){return c(m)}}function ki(c,m){return K(m,function(p){return c[p]})}function le(c,m){return c.has(m)}function qo(c,m){for(var p=-1,R=c.length;++p<R&&Gn(m,c[p],0)>-1;);return p}function Ko(c,m){for(var p=c.length;p--&&Gn(m,c[p],0)>-1;);return p}function _a(c,m){for(var p=c.length,R=0;p--;)c[p]===m&&++R;return R}var va=Zi(ea),xa=Zi(ia);function Ea(c){return"\\"+oa[c]}function Aa(c,m){return c==null?o:c[m]}function Xn(c){return kf.test(c)}function Ta(c){return jf.test(c)}function Ra(c){for(var m,p=[];!(m=c.next()).done;)p.push(m.value);return p}function ji(c){var m=-1,p=Array(c.size);return c.forEach(function(R,P){p[++m]=[P,R]}),p}function $o(c,m){return function(p){return c(m(p))}}function pn(c,m){for(var p=-1,R=c.length,P=0,V=[];++p<R;){var k=c[p];(k===m||k===Y)&&(c[p]=Y,V[P++]=p)}return V}function Ve(c){var m=-1,p=Array(c.size);return c.forEach(function(R){p[++m]=R}),p}function Ma(c){var m=-1,p=Array(c.size);return c.forEach(function(R){p[++m]=[R,R]}),p}function ya(c,m,p){for(var R=p-1,P=c.length;++R<P;)if(c[R]===m)return R;return-1}function La(c,m,p){for(var R=p+1;R--;)if(c[R]===m)return R;return R}function Yn(c){return Xn(c)?Pa(c):ha(c)}function Nt(c){return Xn(c)?ba(c):da(c)}function zo(c){for(var m=c.length;m--&&_f.test(c.charAt(m)););return m}var Sa=Zi(ra);function Pa(c){for(var m=Xi.lastIndex=0;Xi.test(c);)++m;return m}function ba(c){return c.match(Xi)||[]}function Ca(c){return c.match(Qf)||[]}var Ia=function c(m){m=m==null?et:Hn.defaults(et.Object(),m,Hn.pick(et,ta));var p=m.Array,R=m.Date,P=m.Error,V=m.Function,k=m.Math,X=m.Object,tr=m.RegExp,Ba=m.String,bt=m.TypeError,Ne=p.prototype,Ua=V.prototype,qn=X.prototype,We=m["__core-js_shared__"],Ge=Ua.toString,W=qn.hasOwnProperty,Da=0,Zo=function(){var t=/[^.]+$/.exec(We&&We.keys&&We.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Xe=qn.toString,Fa=Ge.call(X),Oa=et._,Va=tr("^"+Ge.call(W).replace(Fi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ye=Io?m.Buffer:o,mn=m.Symbol,He=m.Uint8Array,Jo=Ye?Ye.allocUnsafe:o,qe=$o(X.getPrototypeOf,X),Qo=X.create,ko=qn.propertyIsEnumerable,Ke=Ne.splice,jo=mn?mn.isConcatSpreadable:o,ce=mn?mn.iterator:o,yn=mn?mn.toStringTag:o,$e=function(){try{var t=Cn(X,"defineProperty");return t({},"",{}),t}catch{}}(),Na=m.clearTimeout!==et.clearTimeout&&m.clearTimeout,Wa=R&&R.now!==et.Date.now&&R.now,Ga=m.setTimeout!==et.setTimeout&&m.setTimeout,ze=k.ceil,Ze=k.floor,nr=X.getOwnPropertySymbols,Xa=Ye?Ye.isBuffer:o,tu=m.isFinite,Ya=Ne.join,Ha=$o(X.keys,X),j=k.max,rt=k.min,qa=R.now,Ka=m.parseInt,nu=k.random,$a=Ne.reverse,er=Cn(m,"DataView"),he=Cn(m,"Map"),ir=Cn(m,"Promise"),Kn=Cn(m,"Set"),de=Cn(m,"WeakMap"),ge=Cn(X,"create"),Je=de&&new de,$n={},za=In(er),Za=In(he),Ja=In(ir),Qa=In(Kn),ka=In(de),Qe=mn?mn.prototype:o,we=Qe?Qe.valueOf:o,eu=Qe?Qe.toString:o;function u(t){if(z(t)&&!b(t)&&!(t instanceof D)){if(t instanceof Ct)return t;if(W.call(t,"__wrapped__"))return is(t)}return new Ct(t)}var zn=function(){function t(){}return function(n){if(!$(n))return{};if(Qo)return Qo(n);t.prototype=n;var e=new t;return t.prototype=o,e}}();function ke(){}function Ct(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}u.templateSettings={escape:hf,evaluate:df,interpolate:lo,variable:"",imports:{_:u}},u.prototype=ke.prototype,u.prototype.constructor=u,Ct.prototype=zn(ke.prototype),Ct.prototype.constructor=Ct;function D(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ht,this.__views__=[]}function ja(){var t=new D(this.__wrapped__);return t.__actions__=ct(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ct(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ct(this.__views__),t}function tl(){if(this.__filtered__){var t=new D(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function nl(){var t=this.__wrapped__.value(),n=this.__dir__,e=b(t),i=n<0,r=e?t.length:0,s=dc(0,r,this.__views__),a=s.start,l=s.end,h=l-a,_=i?l:a-1,v=this.__iteratees__,x=v.length,A=0,M=rt(h,this.__takeCount__);if(!e||!i&&r==h&&M==h)return yu(t,this.__actions__);var L=[];t:for(;h--&&A<M;){_+=n;for(var I=-1,S=t[_];++I<x;){var U=v[I],F=U.iteratee,At=U.type,lt=F(S);if(At==zs)S=lt;else if(!lt){if(At==oo)continue t;break t}}L[A++]=S}return L}D.prototype=zn(ke.prototype),D.prototype.constructor=D;function Ln(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function el(){this.__data__=ge?ge(null):{},this.size=0}function il(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}function rl(t){var n=this.__data__;if(ge){var e=n[t];return e===yt?o:e}return W.call(n,t)?n[t]:o}function ol(t){var n=this.__data__;return ge?n[t]!==o:W.call(n,t)}function ul(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=ge&&n===o?yt:n,this}Ln.prototype.clear=el,Ln.prototype.delete=il,Ln.prototype.get=rl,Ln.prototype.has=ol,Ln.prototype.set=ul;function jt(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function sl(){this.__data__=[],this.size=0}function fl(t){var n=this.__data__,e=je(n,t);if(e<0)return!1;var i=n.length-1;return e==i?n.pop():Ke.call(n,e,1),--this.size,!0}function al(t){var n=this.__data__,e=je(n,t);return e<0?o:n[e][1]}function ll(t){return je(this.__data__,t)>-1}function cl(t,n){var e=this.__data__,i=je(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this}jt.prototype.clear=sl,jt.prototype.delete=fl,jt.prototype.get=al,jt.prototype.has=ll,jt.prototype.set=cl;function tn(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}function hl(){this.size=0,this.__data__={hash:new Ln,map:new(he||jt),string:new Ln}}function dl(t){var n=ci(this,t).delete(t);return this.size-=n?1:0,n}function gl(t){return ci(this,t).get(t)}function wl(t){return ci(this,t).has(t)}function pl(t,n){var e=ci(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this}tn.prototype.clear=hl,tn.prototype.delete=dl,tn.prototype.get=gl,tn.prototype.has=wl,tn.prototype.set=pl;function Sn(t){var n=-1,e=t==null?0:t.length;for(this.__data__=new tn;++n<e;)this.add(t[n])}function ml(t){return this.__data__.set(t,yt),this}function _l(t){return this.__data__.has(t)}Sn.prototype.add=Sn.prototype.push=ml,Sn.prototype.has=_l;function Wt(t){var n=this.__data__=new jt(t);this.size=n.size}function vl(){this.__data__=new jt,this.size=0}function xl(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}function El(t){return this.__data__.get(t)}function Al(t){return this.__data__.has(t)}function Tl(t,n){var e=this.__data__;if(e instanceof jt){var i=e.__data__;if(!he||i.length<w-1)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new tn(i)}return e.set(t,n),this.size=e.size,this}Wt.prototype.clear=vl,Wt.prototype.delete=xl,Wt.prototype.get=El,Wt.prototype.has=Al,Wt.prototype.set=Tl;function iu(t,n){var e=b(t),i=!e&&Bn(t),r=!e&&!i&&An(t),s=!e&&!i&&!r&&kn(t),a=e||i||r||s,l=a?Qi(t.length,Ba):[],h=l.length;for(var _ in t)(n||W.call(t,_))&&!(a&&(_=="length"||r&&(_=="offset"||_=="parent")||s&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||on(_,h)))&&l.push(_);return l}function ru(t){var n=t.length;return n?t[gr(0,n-1)]:o}function Rl(t,n){return hi(ct(t),Pn(n,0,t.length))}function Ml(t){return hi(ct(t))}function rr(t,n,e){(e!==o&&!Gt(t[n],e)||e===o&&!(n in t))&&nn(t,n,e)}function pe(t,n,e){var i=t[n];(!(W.call(t,n)&&Gt(i,e))||e===o&&!(n in t))&&nn(t,n,e)}function je(t,n){for(var e=t.length;e--;)if(Gt(t[e][0],n))return e;return-1}function yl(t,n,e,i){return _n(t,function(r,s,a){n(i,r,e(r),a)}),i}function ou(t,n){return t&&Kt(n,tt(n),t)}function Ll(t,n){return t&&Kt(n,dt(n),t)}function nn(t,n,e){n=="__proto__"&&$e?$e(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function or(t,n){for(var e=-1,i=n.length,r=p(i),s=t==null;++e<i;)r[e]=s?o:Nr(t,n[e]);return r}function Pn(t,n,e){return t===t&&(e!==o&&(t=t<=e?t:e),n!==o&&(t=t>=n?t:n)),t}function It(t,n,e,i,r,s){var a,l=n&O,h=n&G,_=n&ut;if(e&&(a=r?e(t,i,r,s):e(t)),a!==o)return a;if(!$(t))return t;var v=b(t);if(v){if(a=wc(t),!l)return ct(t,a)}else{var x=ot(t),A=x==Ce||x==uo;if(An(t))return Pu(t,l);if(x==kt||x==Vn||A&&!r){if(a=h||A?{}:zu(t),!l)return h?rc(t,Ll(a,t)):ic(t,ou(a,t))}else{if(!H[x])return r?t:{};a=pc(t,x,l)}}s||(s=new Wt);var M=s.get(t);if(M)return M;s.set(t,a),Ts(t)?t.forEach(function(S){a.add(It(S,n,e,S,t,s))}):Es(t)&&t.forEach(function(S,U){a.set(U,It(S,n,e,U,t,s))});var L=_?h?Mr:Rr:h?dt:tt,I=v?o:L(t);return Pt(I||t,function(S,U){I&&(U=S,S=t[U]),pe(a,U,It(S,n,e,U,t,s))}),a}function Sl(t){var n=tt(t);return function(e){return uu(e,t,n)}}function uu(t,n,e){var i=e.length;if(t==null)return!i;for(t=X(t);i--;){var r=e[i],s=n[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function su(t,n,e){if(typeof t!="function")throw new bt(T);return Te(function(){t.apply(o,e)},n)}function me(t,n,e,i){var r=-1,s=Fe,a=!0,l=t.length,h=[],_=n.length;if(!l)return h;e&&(n=K(n,vt(e))),i?(s=qi,a=!1):n.length>=w&&(s=le,a=!1,n=new Sn(n));t:for(;++r<l;){var v=t[r],x=e==null?v:e(v);if(v=i||v!==0?v:0,a&&x===x){for(var A=_;A--;)if(n[A]===x)continue t;h.push(v)}else s(n,x,i)||h.push(v)}return h}var _n=Uu(qt),fu=Uu(sr,!0);function Pl(t,n){var e=!0;return _n(t,function(i,r,s){return e=!!n(i,r,s),e}),e}function ti(t,n,e){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=n(s);if(a!=null&&(l===o?a===a&&!Et(a):e(a,l)))var l=a,h=s}return h}function bl(t,n,e,i){var r=t.length;for(e=C(e),e<0&&(e=-e>r?0:r+e),i=i===o||i>r?r:C(i),i<0&&(i+=r),i=e>i?0:Ms(i);e<i;)t[e++]=n;return t}function au(t,n){var e=[];return _n(t,function(i,r,s){n(i,r,s)&&e.push(i)}),e}function it(t,n,e,i,r){var s=-1,a=t.length;for(e||(e=_c),r||(r=[]);++s<a;){var l=t[s];n>0&&e(l)?n>1?it(l,n-1,e,i,r):wn(r,l):i||(r[r.length]=l)}return r}var ur=Du(),lu=Du(!0);function qt(t,n){return t&&ur(t,n,tt)}function sr(t,n){return t&&lu(t,n,tt)}function ni(t,n){return gn(n,function(e){return un(t[e])})}function bn(t,n){n=xn(n,t);for(var e=0,i=n.length;t!=null&&e<i;)t=t[$t(n[e++])];return e&&e==i?t:o}function cu(t,n,e){var i=n(t);return b(t)?i:wn(i,e(t))}function ft(t){return t==null?t===o?of:ef:yn&&yn in X(t)?hc(t):Mc(t)}function fr(t,n){return t>n}function Cl(t,n){return t!=null&&W.call(t,n)}function Il(t,n){return t!=null&&n in X(t)}function Bl(t,n,e){return t>=rt(n,e)&&t<j(n,e)}function ar(t,n,e){for(var i=e?qi:Fe,r=t[0].length,s=t.length,a=s,l=p(s),h=1/0,_=[];a--;){var v=t[a];a&&n&&(v=K(v,vt(n))),h=rt(v.length,h),l[a]=!e&&(n||r>=120&&v.length>=120)?new Sn(a&&v):o}v=t[0];var x=-1,A=l[0];t:for(;++x<r&&_.length<h;){var M=v[x],L=n?n(M):M;if(M=e||M!==0?M:0,!(A?le(A,L):i(_,L,e))){for(a=s;--a;){var I=l[a];if(!(I?le(I,L):i(t[a],L,e)))continue t}A&&A.push(L),_.push(M)}}return _}function Ul(t,n,e,i){return qt(t,function(r,s,a){n(i,e(r),s,a)}),i}function _e(t,n,e){n=xn(n,t),t=ku(t,n);var i=t==null?t:t[$t(Ut(n))];return i==null?o:_t(i,t,e)}function hu(t){return z(t)&&ft(t)==Vn}function Dl(t){return z(t)&&ft(t)==ae}function Fl(t){return z(t)&&ft(t)==re}function ve(t,n,e,i,r){return t===n?!0:t==null||n==null||!z(t)&&!z(n)?t!==t&&n!==n:Ol(t,n,e,i,ve,r)}function Ol(t,n,e,i,r,s){var a=b(t),l=b(n),h=a?Pe:ot(t),_=l?Pe:ot(n);h=h==Vn?kt:h,_=_==Vn?kt:_;var v=h==kt,x=_==kt,A=h==_;if(A&&An(t)){if(!An(n))return!1;a=!0,v=!1}if(A&&!v)return s||(s=new Wt),a||kn(t)?qu(t,n,e,i,r,s):lc(t,n,h,e,i,r,s);if(!(e&Ft)){var M=v&&W.call(t,"__wrapped__"),L=x&&W.call(n,"__wrapped__");if(M||L){var I=M?t.value():t,S=L?n.value():n;return s||(s=new Wt),r(I,S,e,i,s)}}return A?(s||(s=new Wt),cc(t,n,e,i,r,s)):!1}function Vl(t){return z(t)&&ot(t)==Ot}function lr(t,n,e,i){var r=e.length,s=r,a=!i;if(t==null)return!s;for(t=X(t);r--;){var l=e[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<s;){l=e[r];var h=l[0],_=t[h],v=l[1];if(a&&l[2]){if(_===o&&!(h in t))return!1}else{var x=new Wt;if(i)var A=i(_,v,h,t,n,x);if(!(A===o?ve(v,_,Ft|Jt,i,x):A))return!1}}return!0}function du(t){if(!$(t)||xc(t))return!1;var n=un(t)?Va:Sf;return n.test(In(t))}function Nl(t){return z(t)&&ft(t)==ue}function Wl(t){return z(t)&&ot(t)==Vt}function Gl(t){return z(t)&&_i(t.length)&&!!q[ft(t)]}function gu(t){return typeof t=="function"?t:t==null?gt:typeof t=="object"?b(t)?mu(t[0],t[1]):pu(t):Fs(t)}function cr(t){if(!Ae(t))return Ha(t);var n=[];for(var e in X(t))W.call(t,e)&&e!="constructor"&&n.push(e);return n}function Xl(t){if(!$(t))return Rc(t);var n=Ae(t),e=[];for(var i in t)i=="constructor"&&(n||!W.call(t,i))||e.push(i);return e}function hr(t,n){return t<n}function wu(t,n){var e=-1,i=ht(t)?p(t.length):[];return _n(t,function(r,s,a){i[++e]=n(r,s,a)}),i}function pu(t){var n=Lr(t);return n.length==1&&n[0][2]?Ju(n[0][0],n[0][1]):function(e){return e===t||lr(e,t,n)}}function mu(t,n){return Pr(t)&&Zu(n)?Ju($t(t),n):function(e){var i=Nr(e,t);return i===o&&i===n?Wr(e,t):ve(n,i,Ft|Jt)}}function ei(t,n,e,i,r){t!==n&&ur(n,function(s,a){if(r||(r=new Wt),$(s))Yl(t,n,a,e,ei,i,r);else{var l=i?i(Cr(t,a),s,a+"",t,n,r):o;l===o&&(l=s),rr(t,a,l)}},dt)}function Yl(t,n,e,i,r,s,a){var l=Cr(t,e),h=Cr(n,e),_=a.get(h);if(_){rr(t,e,_);return}var v=s?s(l,h,e+"",t,n,a):o,x=v===o;if(x){var A=b(h),M=!A&&An(h),L=!A&&!M&&kn(h);v=h,A||M||L?b(l)?v=l:J(l)?v=ct(l):M?(x=!1,v=Pu(h,!0)):L?(x=!1,v=bu(h,!0)):v=[]:Re(h)||Bn(h)?(v=l,Bn(l)?v=ys(l):(!$(l)||un(l))&&(v=zu(h))):x=!1}x&&(a.set(h,v),r(v,h,i,s,a),a.delete(h)),rr(t,e,v)}function _u(t,n){var e=t.length;if(!!e)return n+=n<0?e:0,on(n,e)?t[n]:o}function vu(t,n,e){n.length?n=K(n,function(s){return b(s)?function(a){return bn(a,s.length===1?s[0]:s)}:s}):n=[gt];var i=-1;n=K(n,vt(y()));var r=wu(t,function(s,a,l){var h=K(n,function(_){return _(s)});return{criteria:h,index:++i,value:s}});return pa(r,function(s,a){return ec(s,a,e)})}function Hl(t,n){return xu(t,n,function(e,i){return Wr(t,i)})}function xu(t,n,e){for(var i=-1,r=n.length,s={};++i<r;){var a=n[i],l=bn(t,a);e(l,a)&&xe(s,xn(a,t),l)}return s}function ql(t){return function(n){return bn(n,t)}}function dr(t,n,e,i){var r=i?wa:Gn,s=-1,a=n.length,l=t;for(t===n&&(n=ct(n)),e&&(l=K(t,vt(e)));++s<a;)for(var h=0,_=n[s],v=e?e(_):_;(h=r(l,v,h,i))>-1;)l!==t&&Ke.call(l,h,1),Ke.call(t,h,1);return t}function Eu(t,n){for(var e=t?n.length:0,i=e-1;e--;){var r=n[e];if(e==i||r!==s){var s=r;on(r)?Ke.call(t,r,1):mr(t,r)}}return t}function gr(t,n){return t+Ze(nu()*(n-t+1))}function Kl(t,n,e,i){for(var r=-1,s=j(ze((n-t)/(e||1)),0),a=p(s);s--;)a[i?s:++r]=t,t+=e;return a}function wr(t,n){var e="";if(!t||n<1||n>dn)return e;do n%2&&(e+=t),n=Ze(n/2),n&&(t+=t);while(n);return e}function B(t,n){return Ir(Qu(t,n,gt),t+"")}function $l(t){return ru(jn(t))}function zl(t,n){var e=jn(t);return hi(e,Pn(n,0,e.length))}function xe(t,n,e,i){if(!$(t))return t;n=xn(n,t);for(var r=-1,s=n.length,a=s-1,l=t;l!=null&&++r<s;){var h=$t(n[r]),_=e;if(h==="__proto__"||h==="constructor"||h==="prototype")return t;if(r!=a){var v=l[h];_=i?i(v,h,l):o,_===o&&(_=$(v)?v:on(n[r+1])?[]:{})}pe(l,h,_),l=l[h]}return t}var Au=Je?function(t,n){return Je.set(t,n),t}:gt,Zl=$e?function(t,n){return $e(t,"toString",{configurable:!0,enumerable:!1,value:Xr(n),writable:!0})}:gt;function Jl(t){return hi(jn(t))}function Bt(t,n,e){var i=-1,r=t.length;n<0&&(n=-n>r?0:r+n),e=e>r?r:e,e<0&&(e+=r),r=n>e?0:e-n>>>0,n>>>=0;for(var s=p(r);++i<r;)s[i]=t[i+n];return s}function Ql(t,n){var e;return _n(t,function(i,r,s){return e=n(i,r,s),!e}),!!e}function ii(t,n,e){var i=0,r=t==null?i:t.length;if(typeof n=="number"&&n===n&&r<=ks){for(;i<r;){var s=i+r>>>1,a=t[s];a!==null&&!Et(a)&&(e?a<=n:a<n)?i=s+1:r=s}return r}return pr(t,n,gt,e)}function pr(t,n,e,i){var r=0,s=t==null?0:t.length;if(s===0)return 0;n=e(n);for(var a=n!==n,l=n===null,h=Et(n),_=n===o;r<s;){var v=Ze((r+s)/2),x=e(t[v]),A=x!==o,M=x===null,L=x===x,I=Et(x);if(a)var S=i||L;else _?S=L&&(i||A):l?S=L&&A&&(i||!M):h?S=L&&A&&!M&&(i||!I):M||I?S=!1:S=i?x<=n:x<n;S?r=v+1:s=v}return rt(s,Qs)}function Tu(t,n){for(var e=-1,i=t.length,r=0,s=[];++e<i;){var a=t[e],l=n?n(a):a;if(!e||!Gt(l,h)){var h=l;s[r++]=a===0?0:a}}return s}function Ru(t){return typeof t=="number"?t:Et(t)?Se:+t}function xt(t){if(typeof t=="string")return t;if(b(t))return K(t,xt)+"";if(Et(t))return eu?eu.call(t):"";var n=t+"";return n=="0"&&1/t==-Rn?"-0":n}function vn(t,n,e){var i=-1,r=Fe,s=t.length,a=!0,l=[],h=l;if(e)a=!1,r=qi;else if(s>=w){var _=n?null:fc(t);if(_)return Ve(_);a=!1,r=le,h=new Sn}else h=n?[]:l;t:for(;++i<s;){var v=t[i],x=n?n(v):v;if(v=e||v!==0?v:0,a&&x===x){for(var A=h.length;A--;)if(h[A]===x)continue t;n&&h.push(x),l.push(v)}else r(h,x,e)||(h!==l&&h.push(x),l.push(v))}return l}function mr(t,n){return n=xn(n,t),t=ku(t,n),t==null||delete t[$t(Ut(n))]}function Mu(t,n,e,i){return xe(t,n,e(bn(t,n)),i)}function ri(t,n,e,i){for(var r=t.length,s=i?r:-1;(i?s--:++s<r)&&n(t[s],s,t););return e?Bt(t,i?0:s,i?s+1:r):Bt(t,i?s+1:0,i?r:s)}function yu(t,n){var e=t;return e instanceof D&&(e=e.value()),Ki(n,function(i,r){return r.func.apply(r.thisArg,wn([i],r.args))},e)}function _r(t,n,e){var i=t.length;if(i<2)return i?vn(t[0]):[];for(var r=-1,s=p(i);++r<i;)for(var a=t[r],l=-1;++l<i;)l!=r&&(s[r]=me(s[r]||a,t[l],n,e));return vn(it(s,1),n,e)}function Lu(t,n,e){for(var i=-1,r=t.length,s=n.length,a={};++i<r;){var l=i<s?n[i]:o;e(a,t[i],l)}return a}function vr(t){return J(t)?t:[]}function xr(t){return typeof t=="function"?t:gt}function xn(t,n){return b(t)?t:Pr(t,n)?[t]:es(N(t))}var kl=B;function En(t,n,e){var i=t.length;return e=e===o?i:e,!n&&e>=i?t:Bt(t,n,e)}var Su=Na||function(t){return et.clearTimeout(t)};function Pu(t,n){if(n)return t.slice();var e=t.length,i=Jo?Jo(e):new t.constructor(e);return t.copy(i),i}function Er(t){var n=new t.constructor(t.byteLength);return new He(n).set(new He(t)),n}function jl(t,n){var e=n?Er(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}function tc(t){var n=new t.constructor(t.source,co.exec(t));return n.lastIndex=t.lastIndex,n}function nc(t){return we?X(we.call(t)):{}}function bu(t,n){var e=n?Er(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Cu(t,n){if(t!==n){var e=t!==o,i=t===null,r=t===t,s=Et(t),a=n!==o,l=n===null,h=n===n,_=Et(n);if(!l&&!_&&!s&&t>n||s&&a&&h&&!l&&!_||i&&a&&h||!e&&h||!r)return 1;if(!i&&!s&&!_&&t<n||_&&e&&r&&!i&&!s||l&&e&&r||!a&&r||!h)return-1}return 0}function ec(t,n,e){for(var i=-1,r=t.criteria,s=n.criteria,a=r.length,l=e.length;++i<a;){var h=Cu(r[i],s[i]);if(h){if(i>=l)return h;var _=e[i];return h*(_=="desc"?-1:1)}}return t.index-n.index}function Iu(t,n,e,i){for(var r=-1,s=t.length,a=e.length,l=-1,h=n.length,_=j(s-a,0),v=p(h+_),x=!i;++l<h;)v[l]=n[l];for(;++r<a;)(x||r<s)&&(v[e[r]]=t[r]);for(;_--;)v[l++]=t[r++];return v}function Bu(t,n,e,i){for(var r=-1,s=t.length,a=-1,l=e.length,h=-1,_=n.length,v=j(s-l,0),x=p(v+_),A=!i;++r<v;)x[r]=t[r];for(var M=r;++h<_;)x[M+h]=n[h];for(;++a<l;)(A||r<s)&&(x[M+e[a]]=t[r++]);return x}function ct(t,n){var e=-1,i=t.length;for(n||(n=p(i));++e<i;)n[e]=t[e];return n}function Kt(t,n,e,i){var r=!e;e||(e={});for(var s=-1,a=n.length;++s<a;){var l=n[s],h=i?i(e[l],t[l],l,e,t):o;h===o&&(h=t[l]),r?nn(e,l,h):pe(e,l,h)}return e}function ic(t,n){return Kt(t,Sr(t),n)}function rc(t,n){return Kt(t,Ku(t),n)}function oi(t,n){return function(e,i){var r=b(e)?aa:yl,s=n?n():{};return r(e,t,y(i,2),s)}}function Zn(t){return B(function(n,e){var i=-1,r=e.length,s=r>1?e[r-1]:o,a=r>2?e[2]:o;for(s=t.length>3&&typeof s=="function"?(r--,s):o,a&&at(e[0],e[1],a)&&(s=r<3?o:s,r=1),n=X(n);++i<r;){var l=e[i];l&&t(n,l,i,s)}return n})}function Uu(t,n){return function(e,i){if(e==null)return e;if(!ht(e))return t(e,i);for(var r=e.length,s=n?r:-1,a=X(e);(n?s--:++s<r)&&i(a[s],s,a)!==!1;);return e}}function Du(t){return function(n,e,i){for(var r=-1,s=X(n),a=i(n),l=a.length;l--;){var h=a[t?l:++r];if(e(s[h],h,s)===!1)break}return n}}function oc(t,n,e){var i=n&nt,r=Ee(t);function s(){var a=this&&this!==et&&this instanceof s?r:t;return a.apply(i?e:this,arguments)}return s}function Fu(t){return function(n){n=N(n);var e=Xn(n)?Nt(n):o,i=e?e[0]:n.charAt(0),r=e?En(e,1).join(""):n.slice(1);return i[t]()+r}}function Jn(t){return function(n){return Ki(Us(Bs(n).replace(Zf,"")),t,"")}}function Ee(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=zn(t.prototype),i=t.apply(e,n);return $(i)?i:e}}function uc(t,n,e){var i=Ee(t);function r(){for(var s=arguments.length,a=p(s),l=s,h=Qn(r);l--;)a[l]=arguments[l];var _=s<3&&a[0]!==h&&a[s-1]!==h?[]:pn(a,h);if(s-=_.length,s<e)return Gu(t,n,ui,r.placeholder,o,a,_,o,o,e-s);var v=this&&this!==et&&this instanceof r?i:t;return _t(v,this,a)}return r}function Ou(t){return function(n,e,i){var r=X(n);if(!ht(n)){var s=y(e,3);n=tt(n),e=function(l){return s(r[l],l,r)}}var a=t(n,e,i);return a>-1?r[s?n[a]:a]:o}}function Vu(t){return rn(function(n){var e=n.length,i=e,r=Ct.prototype.thru;for(t&&n.reverse();i--;){var s=n[i];if(typeof s!="function")throw new bt(T);if(r&&!a&&li(s)=="wrapper")var a=new Ct([],!0)}for(i=a?i:e;++i<e;){s=n[i];var l=li(s),h=l=="wrapper"?yr(s):o;h&&br(h[0])&&h[1]==(Qt|Lt|Yt|ee)&&!h[4].length&&h[9]==1?a=a[li(h[0])].apply(a,h[3]):a=s.length==1&&br(s)?a[l]():a.thru(s)}return function(){var _=arguments,v=_[0];if(a&&_.length==1&&b(v))return a.plant(v).value();for(var x=0,A=e?n[x].apply(this,_):v;++x<e;)A=n[x].call(this,A);return A}})}function ui(t,n,e,i,r,s,a,l,h,_){var v=n&Qt,x=n&nt,A=n&st,M=n&(Lt|Fn),L=n&yi,I=A?o:Ee(t);function S(){for(var U=arguments.length,F=p(U),At=U;At--;)F[At]=arguments[At];if(M)var lt=Qn(S),Tt=_a(F,lt);if(i&&(F=Iu(F,i,r,M)),s&&(F=Bu(F,s,a,M)),U-=Tt,M&&U<_){var Q=pn(F,lt);return Gu(t,n,ui,S.placeholder,e,F,Q,l,h,_-U)}var Xt=x?e:this,fn=A?Xt[t]:t;return U=F.length,l?F=yc(F,l):L&&U>1&&F.reverse(),v&&h<U&&(F.length=h),this&&this!==et&&this instanceof S&&(fn=I||Ee(fn)),fn.apply(Xt,F)}return S}function Nu(t,n){return function(e,i){return Ul(e,t,n(i),{})}}function si(t,n){return function(e,i){var r;if(e===o&&i===o)return n;if(e!==o&&(r=e),i!==o){if(r===o)return i;typeof e=="string"||typeof i=="string"?(e=xt(e),i=xt(i)):(e=Ru(e),i=Ru(i)),r=t(e,i)}return r}}function Ar(t){return rn(function(n){return n=K(n,vt(y())),B(function(e){var i=this;return t(n,function(r){return _t(r,i,e)})})})}function fi(t,n){n=n===o?" ":xt(n);var e=n.length;if(e<2)return e?wr(n,t):n;var i=wr(n,ze(t/Yn(n)));return Xn(n)?En(Nt(i),0,t).join(""):i.slice(0,t)}function sc(t,n,e,i){var r=n&nt,s=Ee(t);function a(){for(var l=-1,h=arguments.length,_=-1,v=i.length,x=p(v+h),A=this&&this!==et&&this instanceof a?s:t;++_<v;)x[_]=i[_];for(;h--;)x[_++]=arguments[++l];return _t(A,r?e:this,x)}return a}function Wu(t){return function(n,e,i){return i&&typeof i!="number"&&at(n,e,i)&&(e=i=o),n=sn(n),e===o?(e=n,n=0):e=sn(e),i=i===o?n<e?1:-1:sn(i),Kl(n,e,i,t)}}function ai(t){return function(n,e){return typeof n=="string"&&typeof e=="string"||(n=Dt(n),e=Dt(e)),t(n,e)}}function Gu(t,n,e,i,r,s,a,l,h,_){var v=n&Lt,x=v?a:o,A=v?o:a,M=v?s:o,L=v?o:s;n|=v?Yt:On,n&=~(v?On:Yt),n&ne||(n&=~(nt|st));var I=[t,n,r,M,x,L,A,l,h,_],S=e.apply(o,I);return br(t)&&ju(S,I),S.placeholder=i,ts(S,t,n)}function Tr(t){var n=k[t];return function(e,i){if(e=Dt(e),i=i==null?0:rt(C(i),292),i&&tu(e)){var r=(N(e)+"e").split("e"),s=n(r[0]+"e"+(+r[1]+i));return r=(N(s)+"e").split("e"),+(r[0]+"e"+(+r[1]-i))}return n(e)}}var fc=Kn&&1/Ve(new Kn([,-0]))[1]==Rn?function(t){return new Kn(t)}:qr;function Xu(t){return function(n){var e=ot(n);return e==Ot?ji(n):e==Vt?Ma(n):ma(n,t(n))}}function en(t,n,e,i,r,s,a,l){var h=n&st;if(!h&&typeof t!="function")throw new bt(T);var _=i?i.length:0;if(_||(n&=~(Yt|On),i=r=o),a=a===o?a:j(C(a),0),l=l===o?l:C(l),_-=r?r.length:0,n&On){var v=i,x=r;i=r=o}var A=h?o:yr(t),M=[t,n,e,i,r,v,x,s,a,l];if(A&&Tc(M,A),t=M[0],n=M[1],e=M[2],i=M[3],r=M[4],l=M[9]=M[9]===o?h?0:t.length:j(M[9]-_,0),!l&&n&(Lt|Fn)&&(n&=~(Lt|Fn)),!n||n==nt)var L=oc(t,n,e);else n==Lt||n==Fn?L=uc(t,n,l):(n==Yt||n==(nt|Yt))&&!r.length?L=sc(t,n,e,i):L=ui.apply(o,M);var I=A?Au:ju;return ts(I(L,M),t,n)}function Yu(t,n,e,i){return t===o||Gt(t,qn[e])&&!W.call(i,e)?n:t}function Hu(t,n,e,i,r,s){return $(t)&&$(n)&&(s.set(n,t),ei(t,n,o,Hu,s),s.delete(n)),t}function ac(t){return Re(t)?o:t}function qu(t,n,e,i,r,s){var a=e&Ft,l=t.length,h=n.length;if(l!=h&&!(a&&h>l))return!1;var _=s.get(t),v=s.get(n);if(_&&v)return _==n&&v==t;var x=-1,A=!0,M=e&Jt?new Sn:o;for(s.set(t,n),s.set(n,t);++x<l;){var L=t[x],I=n[x];if(i)var S=a?i(I,L,x,n,t,s):i(L,I,x,t,n,s);if(S!==o){if(S)continue;A=!1;break}if(M){if(!$i(n,function(U,F){if(!le(M,F)&&(L===U||r(L,U,e,i,s)))return M.push(F)})){A=!1;break}}else if(!(L===I||r(L,I,e,i,s))){A=!1;break}}return s.delete(t),s.delete(n),A}function lc(t,n,e,i,r,s,a){switch(e){case Nn:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ae:return!(t.byteLength!=n.byteLength||!s(new He(t),new He(n)));case ie:case re:case oe:return Gt(+t,+n);case be:return t.name==n.name&&t.message==n.message;case ue:case se:return t==n+"";case Ot:var l=ji;case Vt:var h=i&Ft;if(l||(l=Ve),t.size!=n.size&&!h)return!1;var _=a.get(t);if(_)return _==n;i|=Jt,a.set(t,n);var v=qu(l(t),l(n),i,r,s,a);return a.delete(t),v;case Ie:if(we)return we.call(t)==we.call(n)}return!1}function cc(t,n,e,i,r,s){var a=e&Ft,l=Rr(t),h=l.length,_=Rr(n),v=_.length;if(h!=v&&!a)return!1;for(var x=h;x--;){var A=l[x];if(!(a?A in n:W.call(n,A)))return!1}var M=s.get(t),L=s.get(n);if(M&&L)return M==n&&L==t;var I=!0;s.set(t,n),s.set(n,t);for(var S=a;++x<h;){A=l[x];var U=t[A],F=n[A];if(i)var At=a?i(F,U,A,n,t,s):i(U,F,A,t,n,s);if(!(At===o?U===F||r(U,F,e,i,s):At)){I=!1;break}S||(S=A=="constructor")}if(I&&!S){var lt=t.constructor,Tt=n.constructor;lt!=Tt&&"constructor"in t&&"constructor"in n&&!(typeof lt=="function"&&lt instanceof lt&&typeof Tt=="function"&&Tt instanceof Tt)&&(I=!1)}return s.delete(t),s.delete(n),I}function rn(t){return Ir(Qu(t,o,us),t+"")}function Rr(t){return cu(t,tt,Sr)}function Mr(t){return cu(t,dt,Ku)}var yr=Je?function(t){return Je.get(t)}:qr;function li(t){for(var n=t.name+"",e=$n[n],i=W.call($n,n)?e.length:0;i--;){var r=e[i],s=r.func;if(s==null||s==t)return r.name}return n}function Qn(t){var n=W.call(u,"placeholder")?u:t;return n.placeholder}function y(){var t=u.iteratee||Yr;return t=t===Yr?gu:t,arguments.length?t(arguments[0],arguments[1]):t}function ci(t,n){var e=t.__data__;return vc(n)?e[typeof n=="string"?"string":"hash"]:e.map}function Lr(t){for(var n=tt(t),e=n.length;e--;){var i=n[e],r=t[i];n[e]=[i,r,Zu(r)]}return n}function Cn(t,n){var e=Aa(t,n);return du(e)?e:o}function hc(t){var n=W.call(t,yn),e=t[yn];try{t[yn]=o;var i=!0}catch{}var r=Xe.call(t);return i&&(n?t[yn]=e:delete t[yn]),r}var Sr=nr?function(t){return t==null?[]:(t=X(t),gn(nr(t),function(n){return ko.call(t,n)}))}:Kr,Ku=nr?function(t){for(var n=[];t;)wn(n,Sr(t)),t=qe(t);return n}:Kr,ot=ft;(er&&ot(new er(new ArrayBuffer(1)))!=Nn||he&&ot(new he)!=Ot||ir&&ot(ir.resolve())!=so||Kn&&ot(new Kn)!=Vt||de&&ot(new de)!=fe)&&(ot=function(t){var n=ft(t),e=n==kt?t.constructor:o,i=e?In(e):"";if(i)switch(i){case za:return Nn;case Za:return Ot;case Ja:return so;case Qa:return Vt;case ka:return fe}return n});function dc(t,n,e){for(var i=-1,r=e.length;++i<r;){var s=e[i],a=s.size;switch(s.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=rt(n,t+a);break;case"takeRight":t=j(t,n-a);break}}return{start:t,end:n}}function gc(t){var n=t.match(xf);return n?n[1].split(Ef):[]}function $u(t,n,e){n=xn(n,t);for(var i=-1,r=n.length,s=!1;++i<r;){var a=$t(n[i]);if(!(s=t!=null&&e(t,a)))break;t=t[a]}return s||++i!=r?s:(r=t==null?0:t.length,!!r&&_i(r)&&on(a,r)&&(b(t)||Bn(t)))}function wc(t){var n=t.length,e=new t.constructor(n);return n&&typeof t[0]=="string"&&W.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function zu(t){return typeof t.constructor=="function"&&!Ae(t)?zn(qe(t)):{}}function pc(t,n,e){var i=t.constructor;switch(n){case ae:return Er(t);case ie:case re:return new i(+t);case Nn:return jl(t,e);case Li:case Si:case Pi:case bi:case Ci:case Ii:case Bi:case Ui:case Di:return bu(t,e);case Ot:return new i;case oe:case se:return new i(t);case ue:return tc(t);case Vt:return new i;case Ie:return nc(t)}}function mc(t,n){var e=n.length;if(!e)return t;var i=e-1;return n[i]=(e>1?"& ":"")+n[i],n=n.join(e>2?", ":" "),t.replace(vf,`{
/* [wrapped with `+n+`] */
`)}function _c(t){return b(t)||Bn(t)||!!(jo&&t&&t[jo])}function on(t,n){var e=typeof t;return n=n==null?dn:n,!!n&&(e=="number"||e!="symbol"&&bf.test(t))&&t>-1&&t%1==0&&t<n}function at(t,n,e){if(!$(e))return!1;var i=typeof n;return(i=="number"?ht(e)&&on(n,e.length):i=="string"&&n in e)?Gt(e[n],t):!1}function Pr(t,n){if(b(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||Et(t)?!0:wf.test(t)||!gf.test(t)||n!=null&&t in X(n)}function vc(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function br(t){var n=li(t),e=u[n];if(typeof e!="function"||!(n in D.prototype))return!1;if(t===e)return!0;var i=yr(e);return!!i&&t===i[0]}function xc(t){return!!Zo&&Zo in t}var Ec=We?un:$r;function Ae(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||qn;return t===e}function Zu(t){return t===t&&!$(t)}function Ju(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==o||t in X(e))}}function Ac(t){var n=pi(t,function(i){return e.size===mt&&e.clear(),i}),e=n.cache;return n}function Tc(t,n){var e=t[1],i=n[1],r=e|i,s=r<(nt|st|Qt),a=i==Qt&&e==Lt||i==Qt&&e==ee&&t[7].length<=n[8]||i==(Qt|ee)&&n[7].length<=n[8]&&e==Lt;if(!(s||a))return t;i&nt&&(t[2]=n[2],r|=e&nt?0:ne);var l=n[3];if(l){var h=t[3];t[3]=h?Iu(h,l,n[4]):l,t[4]=h?pn(t[3],Y):n[4]}return l=n[5],l&&(h=t[5],t[5]=h?Bu(h,l,n[6]):l,t[6]=h?pn(t[5],Y):n[6]),l=n[7],l&&(t[7]=l),i&Qt&&(t[8]=t[8]==null?n[8]:rt(t[8],n[8])),t[9]==null&&(t[9]=n[9]),t[0]=n[0],t[1]=r,t}function Rc(t){var n=[];if(t!=null)for(var e in X(t))n.push(e);return n}function Mc(t){return Xe.call(t)}function Qu(t,n,e){return n=j(n===o?t.length-1:n,0),function(){for(var i=arguments,r=-1,s=j(i.length-n,0),a=p(s);++r<s;)a[r]=i[n+r];r=-1;for(var l=p(n+1);++r<n;)l[r]=i[r];return l[n]=e(a),_t(t,this,l)}}function ku(t,n){return n.length<2?t:bn(t,Bt(n,0,-1))}function yc(t,n){for(var e=t.length,i=rt(n.length,e),r=ct(t);i--;){var s=n[i];t[i]=on(s,e)?r[s]:o}return t}function Cr(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var ju=ns(Au),Te=Ga||function(t,n){return et.setTimeout(t,n)},Ir=ns(Zl);function ts(t,n,e){var i=n+"";return Ir(t,mc(i,Lc(gc(i),e)))}function ns(t){var n=0,e=0;return function(){var i=qa(),r=$s-(i-e);if(e=i,r>0){if(++n>=Ks)return arguments[0]}else n=0;return t.apply(o,arguments)}}function hi(t,n){var e=-1,i=t.length,r=i-1;for(n=n===o?i:n;++e<n;){var s=gr(e,r),a=t[s];t[s]=t[e],t[e]=a}return t.length=n,t}var es=Ac(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(pf,function(e,i,r,s){n.push(r?s.replace(Rf,"$1"):i||e)}),n});function $t(t){if(typeof t=="string"||Et(t))return t;var n=t+"";return n=="0"&&1/t==-Rn?"-0":n}function In(t){if(t!=null){try{return Ge.call(t)}catch{}try{return t+""}catch{}}return""}function Lc(t,n){return Pt(js,function(e){var i="_."+e[0];n&e[1]&&!Fe(t,i)&&t.push(i)}),t.sort()}function is(t){if(t instanceof D)return t.clone();var n=new Ct(t.__wrapped__,t.__chain__);return n.__actions__=ct(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Sc(t,n,e){(e?at(t,n,e):n===o)?n=1:n=j(C(n),0);var i=t==null?0:t.length;if(!i||n<1)return[];for(var r=0,s=0,a=p(ze(i/n));r<i;)a[s++]=Bt(t,r,r+=n);return a}function Pc(t){for(var n=-1,e=t==null?0:t.length,i=0,r=[];++n<e;){var s=t[n];s&&(r[i++]=s)}return r}function bc(){var t=arguments.length;if(!t)return[];for(var n=p(t-1),e=arguments[0],i=t;i--;)n[i-1]=arguments[i];return wn(b(e)?ct(e):[e],it(n,1))}var Cc=B(function(t,n){return J(t)?me(t,it(n,1,J,!0)):[]}),Ic=B(function(t,n){var e=Ut(n);return J(e)&&(e=o),J(t)?me(t,it(n,1,J,!0),y(e,2)):[]}),Bc=B(function(t,n){var e=Ut(n);return J(e)&&(e=o),J(t)?me(t,it(n,1,J,!0),o,e):[]});function Uc(t,n,e){var i=t==null?0:t.length;return i?(n=e||n===o?1:C(n),Bt(t,n<0?0:n,i)):[]}function Dc(t,n,e){var i=t==null?0:t.length;return i?(n=e||n===o?1:C(n),n=i-n,Bt(t,0,n<0?0:n)):[]}function Fc(t,n){return t&&t.length?ri(t,y(n,3),!0,!0):[]}function Oc(t,n){return t&&t.length?ri(t,y(n,3),!0):[]}function Vc(t,n,e,i){var r=t==null?0:t.length;return r?(e&&typeof e!="number"&&at(t,n,e)&&(e=0,i=r),bl(t,n,e,i)):[]}function rs(t,n,e){var i=t==null?0:t.length;if(!i)return-1;var r=e==null?0:C(e);return r<0&&(r=j(i+r,0)),Oe(t,y(n,3),r)}function os(t,n,e){var i=t==null?0:t.length;if(!i)return-1;var r=i-1;return e!==o&&(r=C(e),r=e<0?j(i+r,0):rt(r,i-1)),Oe(t,y(n,3),r,!0)}function us(t){var n=t==null?0:t.length;return n?it(t,1):[]}function Nc(t){var n=t==null?0:t.length;return n?it(t,Rn):[]}function Wc(t,n){var e=t==null?0:t.length;return e?(n=n===o?1:C(n),it(t,n)):[]}function Gc(t){for(var n=-1,e=t==null?0:t.length,i={};++n<e;){var r=t[n];i[r[0]]=r[1]}return i}function ss(t){return t&&t.length?t[0]:o}function Xc(t,n,e){var i=t==null?0:t.length;if(!i)return-1;var r=e==null?0:C(e);return r<0&&(r=j(i+r,0)),Gn(t,n,r)}function Yc(t){var n=t==null?0:t.length;return n?Bt(t,0,-1):[]}var Hc=B(function(t){var n=K(t,vr);return n.length&&n[0]===t[0]?ar(n):[]}),qc=B(function(t){var n=Ut(t),e=K(t,vr);return n===Ut(e)?n=o:e.pop(),e.length&&e[0]===t[0]?ar(e,y(n,2)):[]}),Kc=B(function(t){var n=Ut(t),e=K(t,vr);return n=typeof n=="function"?n:o,n&&e.pop(),e.length&&e[0]===t[0]?ar(e,o,n):[]});function $c(t,n){return t==null?"":Ya.call(t,n)}function Ut(t){var n=t==null?0:t.length;return n?t[n-1]:o}function zc(t,n,e){var i=t==null?0:t.length;if(!i)return-1;var r=i;return e!==o&&(r=C(e),r=r<0?j(i+r,0):rt(r,i-1)),n===n?La(t,n,r):Oe(t,Go,r,!0)}function Zc(t,n){return t&&t.length?_u(t,C(n)):o}var Jc=B(fs);function fs(t,n){return t&&t.length&&n&&n.length?dr(t,n):t}function Qc(t,n,e){return t&&t.length&&n&&n.length?dr(t,n,y(e,2)):t}function kc(t,n,e){return t&&t.length&&n&&n.length?dr(t,n,o,e):t}var jc=rn(function(t,n){var e=t==null?0:t.length,i=or(t,n);return Eu(t,K(n,function(r){return on(r,e)?+r:r}).sort(Cu)),i});function th(t,n){var e=[];if(!(t&&t.length))return e;var i=-1,r=[],s=t.length;for(n=y(n,3);++i<s;){var a=t[i];n(a,i,t)&&(e.push(a),r.push(i))}return Eu(t,r),e}function Br(t){return t==null?t:$a.call(t)}function nh(t,n,e){var i=t==null?0:t.length;return i?(e&&typeof e!="number"&&at(t,n,e)?(n=0,e=i):(n=n==null?0:C(n),e=e===o?i:C(e)),Bt(t,n,e)):[]}function eh(t,n){return ii(t,n)}function ih(t,n,e){return pr(t,n,y(e,2))}function rh(t,n){var e=t==null?0:t.length;if(e){var i=ii(t,n);if(i<e&&Gt(t[i],n))return i}return-1}function oh(t,n){return ii(t,n,!0)}function uh(t,n,e){return pr(t,n,y(e,2),!0)}function sh(t,n){var e=t==null?0:t.length;if(e){var i=ii(t,n,!0)-1;if(Gt(t[i],n))return i}return-1}function fh(t){return t&&t.length?Tu(t):[]}function ah(t,n){return t&&t.length?Tu(t,y(n,2)):[]}function lh(t){var n=t==null?0:t.length;return n?Bt(t,1,n):[]}function ch(t,n,e){return t&&t.length?(n=e||n===o?1:C(n),Bt(t,0,n<0?0:n)):[]}function hh(t,n,e){var i=t==null?0:t.length;return i?(n=e||n===o?1:C(n),n=i-n,Bt(t,n<0?0:n,i)):[]}function dh(t,n){return t&&t.length?ri(t,y(n,3),!1,!0):[]}function gh(t,n){return t&&t.length?ri(t,y(n,3)):[]}var wh=B(function(t){return vn(it(t,1,J,!0))}),ph=B(function(t){var n=Ut(t);return J(n)&&(n=o),vn(it(t,1,J,!0),y(n,2))}),mh=B(function(t){var n=Ut(t);return n=typeof n=="function"?n:o,vn(it(t,1,J,!0),o,n)});function _h(t){return t&&t.length?vn(t):[]}function vh(t,n){return t&&t.length?vn(t,y(n,2)):[]}function xh(t,n){return n=typeof n=="function"?n:o,t&&t.length?vn(t,o,n):[]}function Ur(t){if(!(t&&t.length))return[];var n=0;return t=gn(t,function(e){if(J(e))return n=j(e.length,n),!0}),Qi(n,function(e){return K(t,zi(e))})}function as(t,n){if(!(t&&t.length))return[];var e=Ur(t);return n==null?e:K(e,function(i){return _t(n,o,i)})}var Eh=B(function(t,n){return J(t)?me(t,n):[]}),Ah=B(function(t){return _r(gn(t,J))}),Th=B(function(t){var n=Ut(t);return J(n)&&(n=o),_r(gn(t,J),y(n,2))}),Rh=B(function(t){var n=Ut(t);return n=typeof n=="function"?n:o,_r(gn(t,J),o,n)}),Mh=B(Ur);function yh(t,n){return Lu(t||[],n||[],pe)}function Lh(t,n){return Lu(t||[],n||[],xe)}var Sh=B(function(t){var n=t.length,e=n>1?t[n-1]:o;return e=typeof e=="function"?(t.pop(),e):o,as(t,e)});function ls(t){var n=u(t);return n.__chain__=!0,n}function Ph(t,n){return n(t),t}function di(t,n){return n(t)}var bh=rn(function(t){var n=t.length,e=n?t[0]:0,i=this.__wrapped__,r=function(s){return or(s,t)};return n>1||this.__actions__.length||!(i instanceof D)||!on(e)?this.thru(r):(i=i.slice(e,+e+(n?1:0)),i.__actions__.push({func:di,args:[r],thisArg:o}),new Ct(i,this.__chain__).thru(function(s){return n&&!s.length&&s.push(o),s}))});function Ch(){return ls(this)}function Ih(){return new Ct(this.value(),this.__chain__)}function Bh(){this.__values__===o&&(this.__values__=Rs(this.value()));var t=this.__index__>=this.__values__.length,n=t?o:this.__values__[this.__index__++];return{done:t,value:n}}function Uh(){return this}function Dh(t){for(var n,e=this;e instanceof ke;){var i=is(e);i.__index__=0,i.__values__=o,n?r.__wrapped__=i:n=i;var r=i;e=e.__wrapped__}return r.__wrapped__=t,n}function Fh(){var t=this.__wrapped__;if(t instanceof D){var n=t;return this.__actions__.length&&(n=new D(this)),n=n.reverse(),n.__actions__.push({func:di,args:[Br],thisArg:o}),new Ct(n,this.__chain__)}return this.thru(Br)}function Oh(){return yu(this.__wrapped__,this.__actions__)}var Vh=oi(function(t,n,e){W.call(t,e)?++t[e]:nn(t,e,1)});function Nh(t,n,e){var i=b(t)?No:Pl;return e&&at(t,n,e)&&(n=o),i(t,y(n,3))}function Wh(t,n){var e=b(t)?gn:au;return e(t,y(n,3))}var Gh=Ou(rs),Xh=Ou(os);function Yh(t,n){return it(gi(t,n),1)}function Hh(t,n){return it(gi(t,n),Rn)}function qh(t,n,e){return e=e===o?1:C(e),it(gi(t,n),e)}function cs(t,n){var e=b(t)?Pt:_n;return e(t,y(n,3))}function hs(t,n){var e=b(t)?la:fu;return e(t,y(n,3))}var Kh=oi(function(t,n,e){W.call(t,e)?t[e].push(n):nn(t,e,[n])});function $h(t,n,e,i){t=ht(t)?t:jn(t),e=e&&!i?C(e):0;var r=t.length;return e<0&&(e=j(r+e,0)),vi(t)?e<=r&&t.indexOf(n,e)>-1:!!r&&Gn(t,n,e)>-1}var zh=B(function(t,n,e){var i=-1,r=typeof n=="function",s=ht(t)?p(t.length):[];return _n(t,function(a){s[++i]=r?_t(n,a,e):_e(a,n,e)}),s}),Zh=oi(function(t,n,e){nn(t,e,n)});function gi(t,n){var e=b(t)?K:wu;return e(t,y(n,3))}function Jh(t,n,e,i){return t==null?[]:(b(n)||(n=n==null?[]:[n]),e=i?o:e,b(e)||(e=e==null?[]:[e]),vu(t,n,e))}var Qh=oi(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});function kh(t,n,e){var i=b(t)?Ki:Yo,r=arguments.length<3;return i(t,y(n,4),e,r,_n)}function jh(t,n,e){var i=b(t)?ca:Yo,r=arguments.length<3;return i(t,y(n,4),e,r,fu)}function td(t,n){var e=b(t)?gn:au;return e(t,mi(y(n,3)))}function nd(t){var n=b(t)?ru:$l;return n(t)}function ed(t,n,e){(e?at(t,n,e):n===o)?n=1:n=C(n);var i=b(t)?Rl:zl;return i(t,n)}function id(t){var n=b(t)?Ml:Jl;return n(t)}function rd(t){if(t==null)return 0;if(ht(t))return vi(t)?Yn(t):t.length;var n=ot(t);return n==Ot||n==Vt?t.size:cr(t).length}function od(t,n,e){var i=b(t)?$i:Ql;return e&&at(t,n,e)&&(n=o),i(t,y(n,3))}var ud=B(function(t,n){if(t==null)return[];var e=n.length;return e>1&&at(t,n[0],n[1])?n=[]:e>2&&at(n[0],n[1],n[2])&&(n=[n[0]]),vu(t,it(n,1),[])}),wi=Wa||function(){return et.Date.now()};function sd(t,n){if(typeof n!="function")throw new bt(T);return t=C(t),function(){if(--t<1)return n.apply(this,arguments)}}function ds(t,n,e){return n=e?o:n,n=t&&n==null?t.length:n,en(t,Qt,o,o,o,o,n)}function gs(t,n){var e;if(typeof n!="function")throw new bt(T);return t=C(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=o),e}}var Dr=B(function(t,n,e){var i=nt;if(e.length){var r=pn(e,Qn(Dr));i|=Yt}return en(t,i,n,e,r)}),ws=B(function(t,n,e){var i=nt|st;if(e.length){var r=pn(e,Qn(ws));i|=Yt}return en(n,i,t,e,r)});function ps(t,n,e){n=e?o:n;var i=en(t,Lt,o,o,o,o,o,n);return i.placeholder=ps.placeholder,i}function ms(t,n,e){n=e?o:n;var i=en(t,Fn,o,o,o,o,o,n);return i.placeholder=ms.placeholder,i}function _s(t,n,e){var i,r,s,a,l,h,_=0,v=!1,x=!1,A=!0;if(typeof t!="function")throw new bt(T);n=Dt(n)||0,$(e)&&(v=!!e.leading,x="maxWait"in e,s=x?j(Dt(e.maxWait)||0,n):s,A="trailing"in e?!!e.trailing:A);function M(Q){var Xt=i,fn=r;return i=r=o,_=Q,a=t.apply(fn,Xt),a}function L(Q){return _=Q,l=Te(U,n),v?M(Q):a}function I(Q){var Xt=Q-h,fn=Q-_,Os=n-Xt;return x?rt(Os,s-fn):Os}function S(Q){var Xt=Q-h,fn=Q-_;return h===o||Xt>=n||Xt<0||x&&fn>=s}function U(){var Q=wi();if(S(Q))return F(Q);l=Te(U,I(Q))}function F(Q){return l=o,A&&i?M(Q):(i=r=o,a)}function At(){l!==o&&Su(l),_=0,i=h=r=l=o}function lt(){return l===o?a:F(wi())}function Tt(){var Q=wi(),Xt=S(Q);if(i=arguments,r=this,h=Q,Xt){if(l===o)return L(h);if(x)return Su(l),l=Te(U,n),M(h)}return l===o&&(l=Te(U,n)),a}return Tt.cancel=At,Tt.flush=lt,Tt}var fd=B(function(t,n){return su(t,1,n)}),ad=B(function(t,n,e){return su(t,Dt(n)||0,e)});function ld(t){return en(t,yi)}function pi(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new bt(T);var e=function(){var i=arguments,r=n?n.apply(this,i):i[0],s=e.cache;if(s.has(r))return s.get(r);var a=t.apply(this,i);return e.cache=s.set(r,a)||s,a};return e.cache=new(pi.Cache||tn),e}pi.Cache=tn;function mi(t){if(typeof t!="function")throw new bt(T);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function cd(t){return gs(2,t)}var hd=kl(function(t,n){n=n.length==1&&b(n[0])?K(n[0],vt(y())):K(it(n,1),vt(y()));var e=n.length;return B(function(i){for(var r=-1,s=rt(i.length,e);++r<s;)i[r]=n[r].call(this,i[r]);return _t(t,this,i)})}),Fr=B(function(t,n){var e=pn(n,Qn(Fr));return en(t,Yt,o,n,e)}),vs=B(function(t,n){var e=pn(n,Qn(vs));return en(t,On,o,n,e)}),dd=rn(function(t,n){return en(t,ee,o,o,o,n)});function gd(t,n){if(typeof t!="function")throw new bt(T);return n=n===o?n:C(n),B(t,n)}function wd(t,n){if(typeof t!="function")throw new bt(T);return n=n==null?0:j(C(n),0),B(function(e){var i=e[n],r=En(e,0,n);return i&&wn(r,i),_t(t,this,r)})}function pd(t,n,e){var i=!0,r=!0;if(typeof t!="function")throw new bt(T);return $(e)&&(i="leading"in e?!!e.leading:i,r="trailing"in e?!!e.trailing:r),_s(t,n,{leading:i,maxWait:n,trailing:r})}function md(t){return ds(t,1)}function _d(t,n){return Fr(xr(n),t)}function vd(){if(!arguments.length)return[];var t=arguments[0];return b(t)?t:[t]}function xd(t){return It(t,ut)}function Ed(t,n){return n=typeof n=="function"?n:o,It(t,ut,n)}function Ad(t){return It(t,O|ut)}function Td(t,n){return n=typeof n=="function"?n:o,It(t,O|ut,n)}function Rd(t,n){return n==null||uu(t,n,tt(n))}function Gt(t,n){return t===n||t!==t&&n!==n}var Md=ai(fr),yd=ai(function(t,n){return t>=n}),Bn=hu(function(){return arguments}())?hu:function(t){return z(t)&&W.call(t,"callee")&&!ko.call(t,"callee")},b=p.isArray,Ld=Bo?vt(Bo):Dl;function ht(t){return t!=null&&_i(t.length)&&!un(t)}function J(t){return z(t)&&ht(t)}function Sd(t){return t===!0||t===!1||z(t)&&ft(t)==ie}var An=Xa||$r,Pd=Uo?vt(Uo):Fl;function bd(t){return z(t)&&t.nodeType===1&&!Re(t)}function Cd(t){if(t==null)return!0;if(ht(t)&&(b(t)||typeof t=="string"||typeof t.splice=="function"||An(t)||kn(t)||Bn(t)))return!t.length;var n=ot(t);if(n==Ot||n==Vt)return!t.size;if(Ae(t))return!cr(t).length;for(var e in t)if(W.call(t,e))return!1;return!0}function Id(t,n){return ve(t,n)}function Bd(t,n,e){e=typeof e=="function"?e:o;var i=e?e(t,n):o;return i===o?ve(t,n,o,e):!!i}function Or(t){if(!z(t))return!1;var n=ft(t);return n==be||n==nf||typeof t.message=="string"&&typeof t.name=="string"&&!Re(t)}function Ud(t){return typeof t=="number"&&tu(t)}function un(t){if(!$(t))return!1;var n=ft(t);return n==Ce||n==uo||n==tf||n==rf}function xs(t){return typeof t=="number"&&t==C(t)}function _i(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dn}function $(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function z(t){return t!=null&&typeof t=="object"}var Es=Do?vt(Do):Vl;function Dd(t,n){return t===n||lr(t,n,Lr(n))}function Fd(t,n,e){return e=typeof e=="function"?e:o,lr(t,n,Lr(n),e)}function Od(t){return As(t)&&t!=+t}function Vd(t){if(Ec(t))throw new P(E);return du(t)}function Nd(t){return t===null}function Wd(t){return t==null}function As(t){return typeof t=="number"||z(t)&&ft(t)==oe}function Re(t){if(!z(t)||ft(t)!=kt)return!1;var n=qe(t);if(n===null)return!0;var e=W.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&Ge.call(e)==Fa}var Vr=Fo?vt(Fo):Nl;function Gd(t){return xs(t)&&t>=-dn&&t<=dn}var Ts=Oo?vt(Oo):Wl;function vi(t){return typeof t=="string"||!b(t)&&z(t)&&ft(t)==se}function Et(t){return typeof t=="symbol"||z(t)&&ft(t)==Ie}var kn=Vo?vt(Vo):Gl;function Xd(t){return t===o}function Yd(t){return z(t)&&ot(t)==fe}function Hd(t){return z(t)&&ft(t)==uf}var qd=ai(hr),Kd=ai(function(t,n){return t<=n});function Rs(t){if(!t)return[];if(ht(t))return vi(t)?Nt(t):ct(t);if(ce&&t[ce])return Ra(t[ce]());var n=ot(t),e=n==Ot?ji:n==Vt?Ve:jn;return e(t)}function sn(t){if(!t)return t===0?t:0;if(t=Dt(t),t===Rn||t===-Rn){var n=t<0?-1:1;return n*Js}return t===t?t:0}function C(t){var n=sn(t),e=n%1;return n===n?e?n-e:n:0}function Ms(t){return t?Pn(C(t),0,Ht):0}function Dt(t){if(typeof t=="number")return t;if(Et(t))return Se;if($(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=$(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=Ho(t);var e=Lf.test(t);return e||Pf.test(t)?sa(t.slice(2),e?2:8):yf.test(t)?Se:+t}function ys(t){return Kt(t,dt(t))}function $d(t){return t?Pn(C(t),-dn,dn):t===0?t:0}function N(t){return t==null?"":xt(t)}var zd=Zn(function(t,n){if(Ae(n)||ht(n)){Kt(n,tt(n),t);return}for(var e in n)W.call(n,e)&&pe(t,e,n[e])}),Ls=Zn(function(t,n){Kt(n,dt(n),t)}),xi=Zn(function(t,n,e,i){Kt(n,dt(n),t,i)}),Zd=Zn(function(t,n,e,i){Kt(n,tt(n),t,i)}),Jd=rn(or);function Qd(t,n){var e=zn(t);return n==null?e:ou(e,n)}var kd=B(function(t,n){t=X(t);var e=-1,i=n.length,r=i>2?n[2]:o;for(r&&at(n[0],n[1],r)&&(i=1);++e<i;)for(var s=n[e],a=dt(s),l=-1,h=a.length;++l<h;){var _=a[l],v=t[_];(v===o||Gt(v,qn[_])&&!W.call(t,_))&&(t[_]=s[_])}return t}),jd=B(function(t){return t.push(o,Hu),_t(Ss,o,t)});function tg(t,n){return Wo(t,y(n,3),qt)}function ng(t,n){return Wo(t,y(n,3),sr)}function eg(t,n){return t==null?t:ur(t,y(n,3),dt)}function ig(t,n){return t==null?t:lu(t,y(n,3),dt)}function rg(t,n){return t&&qt(t,y(n,3))}function og(t,n){return t&&sr(t,y(n,3))}function ug(t){return t==null?[]:ni(t,tt(t))}function sg(t){return t==null?[]:ni(t,dt(t))}function Nr(t,n,e){var i=t==null?o:bn(t,n);return i===o?e:i}function fg(t,n){return t!=null&&$u(t,n,Cl)}function Wr(t,n){return t!=null&&$u(t,n,Il)}var ag=Nu(function(t,n,e){n!=null&&typeof n.toString!="function"&&(n=Xe.call(n)),t[n]=e},Xr(gt)),lg=Nu(function(t,n,e){n!=null&&typeof n.toString!="function"&&(n=Xe.call(n)),W.call(t,n)?t[n].push(e):t[n]=[e]},y),cg=B(_e);function tt(t){return ht(t)?iu(t):cr(t)}function dt(t){return ht(t)?iu(t,!0):Xl(t)}function hg(t,n){var e={};return n=y(n,3),qt(t,function(i,r,s){nn(e,n(i,r,s),i)}),e}function dg(t,n){var e={};return n=y(n,3),qt(t,function(i,r,s){nn(e,r,n(i,r,s))}),e}var gg=Zn(function(t,n,e){ei(t,n,e)}),Ss=Zn(function(t,n,e,i){ei(t,n,e,i)}),wg=rn(function(t,n){var e={};if(t==null)return e;var i=!1;n=K(n,function(s){return s=xn(s,t),i||(i=s.length>1),s}),Kt(t,Mr(t),e),i&&(e=It(e,O|G|ut,ac));for(var r=n.length;r--;)mr(e,n[r]);return e});function pg(t,n){return Ps(t,mi(y(n)))}var mg=rn(function(t,n){return t==null?{}:Hl(t,n)});function Ps(t,n){if(t==null)return{};var e=K(Mr(t),function(i){return[i]});return n=y(n),xu(t,e,function(i,r){return n(i,r[0])})}function _g(t,n,e){n=xn(n,t);var i=-1,r=n.length;for(r||(r=1,t=o);++i<r;){var s=t==null?o:t[$t(n[i])];s===o&&(i=r,s=e),t=un(s)?s.call(t):s}return t}function vg(t,n,e){return t==null?t:xe(t,n,e)}function xg(t,n,e,i){return i=typeof i=="function"?i:o,t==null?t:xe(t,n,e,i)}var bs=Xu(tt),Cs=Xu(dt);function Eg(t,n,e){var i=b(t),r=i||An(t)||kn(t);if(n=y(n,4),e==null){var s=t&&t.constructor;r?e=i?new s:[]:$(t)?e=un(s)?zn(qe(t)):{}:e={}}return(r?Pt:qt)(t,function(a,l,h){return n(e,a,l,h)}),e}function Ag(t,n){return t==null?!0:mr(t,n)}function Tg(t,n,e){return t==null?t:Mu(t,n,xr(e))}function Rg(t,n,e,i){return i=typeof i=="function"?i:o,t==null?t:Mu(t,n,xr(e),i)}function jn(t){return t==null?[]:ki(t,tt(t))}function Mg(t){return t==null?[]:ki(t,dt(t))}function yg(t,n,e){return e===o&&(e=n,n=o),e!==o&&(e=Dt(e),e=e===e?e:0),n!==o&&(n=Dt(n),n=n===n?n:0),Pn(Dt(t),n,e)}function Lg(t,n,e){return n=sn(n),e===o?(e=n,n=0):e=sn(e),t=Dt(t),Bl(t,n,e)}function Sg(t,n,e){if(e&&typeof e!="boolean"&&at(t,n,e)&&(n=e=o),e===o&&(typeof n=="boolean"?(e=n,n=o):typeof t=="boolean"&&(e=t,t=o)),t===o&&n===o?(t=0,n=1):(t=sn(t),n===o?(n=t,t=0):n=sn(n)),t>n){var i=t;t=n,n=i}if(e||t%1||n%1){var r=nu();return rt(t+r*(n-t+ua("1e-"+((r+"").length-1))),n)}return gr(t,n)}var Pg=Jn(function(t,n,e){return n=n.toLowerCase(),t+(e?Is(n):n)});function Is(t){return Gr(N(t).toLowerCase())}function Bs(t){return t=N(t),t&&t.replace(Cf,va).replace(Jf,"")}function bg(t,n,e){t=N(t),n=xt(n);var i=t.length;e=e===o?i:Pn(C(e),0,i);var r=e;return e-=n.length,e>=0&&t.slice(e,r)==n}function Cg(t){return t=N(t),t&&cf.test(t)?t.replace(ao,xa):t}function Ig(t){return t=N(t),t&&mf.test(t)?t.replace(Fi,"\\$&"):t}var Bg=Jn(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),Ug=Jn(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),Dg=Fu("toLowerCase");function Fg(t,n,e){t=N(t),n=C(n);var i=n?Yn(t):0;if(!n||i>=n)return t;var r=(n-i)/2;return fi(Ze(r),e)+t+fi(ze(r),e)}function Og(t,n,e){t=N(t),n=C(n);var i=n?Yn(t):0;return n&&i<n?t+fi(n-i,e):t}function Vg(t,n,e){t=N(t),n=C(n);var i=n?Yn(t):0;return n&&i<n?fi(n-i,e)+t:t}function Ng(t,n,e){return e||n==null?n=0:n&&(n=+n),Ka(N(t).replace(Oi,""),n||0)}function Wg(t,n,e){return(e?at(t,n,e):n===o)?n=1:n=C(n),wr(N(t),n)}function Gg(){var t=arguments,n=N(t[0]);return t.length<3?n:n.replace(t[1],t[2])}var Xg=Jn(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()});function Yg(t,n,e){return e&&typeof e!="number"&&at(t,n,e)&&(n=e=o),e=e===o?Ht:e>>>0,e?(t=N(t),t&&(typeof n=="string"||n!=null&&!Vr(n))&&(n=xt(n),!n&&Xn(t))?En(Nt(t),0,e):t.split(n,e)):[]}var Hg=Jn(function(t,n,e){return t+(e?" ":"")+Gr(n)});function qg(t,n,e){return t=N(t),e=e==null?0:Pn(C(e),0,t.length),n=xt(n),t.slice(e,e+n.length)==n}function Kg(t,n,e){var i=u.templateSettings;e&&at(t,n,e)&&(n=o),t=N(t),n=xi({},n,i,Yu);var r=xi({},n.imports,i.imports,Yu),s=tt(r),a=ki(r,s),l,h,_=0,v=n.interpolate||Be,x="__p += '",A=tr((n.escape||Be).source+"|"+v.source+"|"+(v===lo?Mf:Be).source+"|"+(n.evaluate||Be).source+"|$","g"),M="//# sourceURL="+(W.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++na+"]")+`
`;t.replace(A,function(S,U,F,At,lt,Tt){return F||(F=At),x+=t.slice(_,Tt).replace(If,Ea),U&&(l=!0,x+=`' +
__e(`+U+`) +
'`),lt&&(h=!0,x+=`';
`+lt+`;
__p += '`),F&&(x+=`' +
((__t = (`+F+`)) == null ? '' : __t) +
'`),_=Tt+S.length,S}),x+=`';
`;var L=W.call(n,"variable")&&n.variable;if(!L)x=`with (obj) {
`+x+`
}
`;else if(Tf.test(L))throw new P(Z);x=(h?x.replace(sf,""):x).replace(ff,"$1").replace(af,"$1;"),x="function("+(L||"obj")+`) {
`+(L?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(h?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var I=Ds(function(){return V(s,M+"return "+x).apply(o,a)});if(I.source=x,Or(I))throw I;return I}function $g(t){return N(t).toLowerCase()}function zg(t){return N(t).toUpperCase()}function Zg(t,n,e){if(t=N(t),t&&(e||n===o))return Ho(t);if(!t||!(n=xt(n)))return t;var i=Nt(t),r=Nt(n),s=qo(i,r),a=Ko(i,r)+1;return En(i,s,a).join("")}function Jg(t,n,e){if(t=N(t),t&&(e||n===o))return t.slice(0,zo(t)+1);if(!t||!(n=xt(n)))return t;var i=Nt(t),r=Ko(i,Nt(n))+1;return En(i,0,r).join("")}function Qg(t,n,e){if(t=N(t),t&&(e||n===o))return t.replace(Oi,"");if(!t||!(n=xt(n)))return t;var i=Nt(t),r=qo(i,Nt(n));return En(i,r).join("")}function kg(t,n){var e=Hs,i=qs;if($(n)){var r="separator"in n?n.separator:r;e="length"in n?C(n.length):e,i="omission"in n?xt(n.omission):i}t=N(t);var s=t.length;if(Xn(t)){var a=Nt(t);s=a.length}if(e>=s)return t;var l=e-Yn(i);if(l<1)return i;var h=a?En(a,0,l).join(""):t.slice(0,l);if(r===o)return h+i;if(a&&(l+=h.length-l),Vr(r)){if(t.slice(l).search(r)){var _,v=h;for(r.global||(r=tr(r.source,N(co.exec(r))+"g")),r.lastIndex=0;_=r.exec(v);)var x=_.index;h=h.slice(0,x===o?l:x)}}else if(t.indexOf(xt(r),l)!=l){var A=h.lastIndexOf(r);A>-1&&(h=h.slice(0,A))}return h+i}function jg(t){return t=N(t),t&&lf.test(t)?t.replace(fo,Sa):t}var t0=Jn(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),Gr=Fu("toUpperCase");function Us(t,n,e){return t=N(t),n=e?o:n,n===o?Ta(t)?Ca(t):ga(t):t.match(n)||[]}var Ds=B(function(t,n){try{return _t(t,o,n)}catch(e){return Or(e)?e:new P(e)}}),n0=rn(function(t,n){return Pt(n,function(e){e=$t(e),nn(t,e,Dr(t[e],t))}),t});function e0(t){var n=t==null?0:t.length,e=y();return t=n?K(t,function(i){if(typeof i[1]!="function")throw new bt(T);return[e(i[0]),i[1]]}):[],B(function(i){for(var r=-1;++r<n;){var s=t[r];if(_t(s[0],this,i))return _t(s[1],this,i)}})}function i0(t){return Sl(It(t,O))}function Xr(t){return function(){return t}}function r0(t,n){return t==null||t!==t?n:t}var o0=Vu(),u0=Vu(!0);function gt(t){return t}function Yr(t){return gu(typeof t=="function"?t:It(t,O))}function s0(t){return pu(It(t,O))}function f0(t,n){return mu(t,It(n,O))}var a0=B(function(t,n){return function(e){return _e(e,t,n)}}),l0=B(function(t,n){return function(e){return _e(t,e,n)}});function Hr(t,n,e){var i=tt(n),r=ni(n,i);e==null&&!($(n)&&(r.length||!i.length))&&(e=n,n=t,t=this,r=ni(n,tt(n)));var s=!($(e)&&"chain"in e)||!!e.chain,a=un(t);return Pt(r,function(l){var h=n[l];t[l]=h,a&&(t.prototype[l]=function(){var _=this.__chain__;if(s||_){var v=t(this.__wrapped__),x=v.__actions__=ct(this.__actions__);return x.push({func:h,args:arguments,thisArg:t}),v.__chain__=_,v}return h.apply(t,wn([this.value()],arguments))})}),t}function c0(){return et._===this&&(et._=Oa),this}function qr(){}function h0(t){return t=C(t),B(function(n){return _u(n,t)})}var d0=Ar(K),g0=Ar(No),w0=Ar($i);function Fs(t){return Pr(t)?zi($t(t)):ql(t)}function p0(t){return function(n){return t==null?o:bn(t,n)}}var m0=Wu(),_0=Wu(!0);function Kr(){return[]}function $r(){return!1}function v0(){return{}}function x0(){return""}function E0(){return!0}function A0(t,n){if(t=C(t),t<1||t>dn)return[];var e=Ht,i=rt(t,Ht);n=y(n),t-=Ht;for(var r=Qi(i,n);++e<t;)n(e);return r}function T0(t){return b(t)?K(t,$t):Et(t)?[t]:ct(es(N(t)))}function R0(t){var n=++Da;return N(t)+n}var M0=si(function(t,n){return t+n},0),y0=Tr("ceil"),L0=si(function(t,n){return t/n},1),S0=Tr("floor");function P0(t){return t&&t.length?ti(t,gt,fr):o}function b0(t,n){return t&&t.length?ti(t,y(n,2),fr):o}function C0(t){return Xo(t,gt)}function I0(t,n){return Xo(t,y(n,2))}function B0(t){return t&&t.length?ti(t,gt,hr):o}function U0(t,n){return t&&t.length?ti(t,y(n,2),hr):o}var D0=si(function(t,n){return t*n},1),F0=Tr("round"),O0=si(function(t,n){return t-n},0);function V0(t){return t&&t.length?Ji(t,gt):0}function N0(t,n){return t&&t.length?Ji(t,y(n,2)):0}return u.after=sd,u.ary=ds,u.assign=zd,u.assignIn=Ls,u.assignInWith=xi,u.assignWith=Zd,u.at=Jd,u.before=gs,u.bind=Dr,u.bindAll=n0,u.bindKey=ws,u.castArray=vd,u.chain=ls,u.chunk=Sc,u.compact=Pc,u.concat=bc,u.cond=e0,u.conforms=i0,u.constant=Xr,u.countBy=Vh,u.create=Qd,u.curry=ps,u.curryRight=ms,u.debounce=_s,u.defaults=kd,u.defaultsDeep=jd,u.defer=fd,u.delay=ad,u.difference=Cc,u.differenceBy=Ic,u.differenceWith=Bc,u.drop=Uc,u.dropRight=Dc,u.dropRightWhile=Fc,u.dropWhile=Oc,u.fill=Vc,u.filter=Wh,u.flatMap=Yh,u.flatMapDeep=Hh,u.flatMapDepth=qh,u.flatten=us,u.flattenDeep=Nc,u.flattenDepth=Wc,u.flip=ld,u.flow=o0,u.flowRight=u0,u.fromPairs=Gc,u.functions=ug,u.functionsIn=sg,u.groupBy=Kh,u.initial=Yc,u.intersection=Hc,u.intersectionBy=qc,u.intersectionWith=Kc,u.invert=ag,u.invertBy=lg,u.invokeMap=zh,u.iteratee=Yr,u.keyBy=Zh,u.keys=tt,u.keysIn=dt,u.map=gi,u.mapKeys=hg,u.mapValues=dg,u.matches=s0,u.matchesProperty=f0,u.memoize=pi,u.merge=gg,u.mergeWith=Ss,u.method=a0,u.methodOf=l0,u.mixin=Hr,u.negate=mi,u.nthArg=h0,u.omit=wg,u.omitBy=pg,u.once=cd,u.orderBy=Jh,u.over=d0,u.overArgs=hd,u.overEvery=g0,u.overSome=w0,u.partial=Fr,u.partialRight=vs,u.partition=Qh,u.pick=mg,u.pickBy=Ps,u.property=Fs,u.propertyOf=p0,u.pull=Jc,u.pullAll=fs,u.pullAllBy=Qc,u.pullAllWith=kc,u.pullAt=jc,u.range=m0,u.rangeRight=_0,u.rearg=dd,u.reject=td,u.remove=th,u.rest=gd,u.reverse=Br,u.sampleSize=ed,u.set=vg,u.setWith=xg,u.shuffle=id,u.slice=nh,u.sortBy=ud,u.sortedUniq=fh,u.sortedUniqBy=ah,u.split=Yg,u.spread=wd,u.tail=lh,u.take=ch,u.takeRight=hh,u.takeRightWhile=dh,u.takeWhile=gh,u.tap=Ph,u.throttle=pd,u.thru=di,u.toArray=Rs,u.toPairs=bs,u.toPairsIn=Cs,u.toPath=T0,u.toPlainObject=ys,u.transform=Eg,u.unary=md,u.union=wh,u.unionBy=ph,u.unionWith=mh,u.uniq=_h,u.uniqBy=vh,u.uniqWith=xh,u.unset=Ag,u.unzip=Ur,u.unzipWith=as,u.update=Tg,u.updateWith=Rg,u.values=jn,u.valuesIn=Mg,u.without=Eh,u.words=Us,u.wrap=_d,u.xor=Ah,u.xorBy=Th,u.xorWith=Rh,u.zip=Mh,u.zipObject=yh,u.zipObjectDeep=Lh,u.zipWith=Sh,u.entries=bs,u.entriesIn=Cs,u.extend=Ls,u.extendWith=xi,Hr(u,u),u.add=M0,u.attempt=Ds,u.camelCase=Pg,u.capitalize=Is,u.ceil=y0,u.clamp=yg,u.clone=xd,u.cloneDeep=Ad,u.cloneDeepWith=Td,u.cloneWith=Ed,u.conformsTo=Rd,u.deburr=Bs,u.defaultTo=r0,u.divide=L0,u.endsWith=bg,u.eq=Gt,u.escape=Cg,u.escapeRegExp=Ig,u.every=Nh,u.find=Gh,u.findIndex=rs,u.findKey=tg,u.findLast=Xh,u.findLastIndex=os,u.findLastKey=ng,u.floor=S0,u.forEach=cs,u.forEachRight=hs,u.forIn=eg,u.forInRight=ig,u.forOwn=rg,u.forOwnRight=og,u.get=Nr,u.gt=Md,u.gte=yd,u.has=fg,u.hasIn=Wr,u.head=ss,u.identity=gt,u.includes=$h,u.indexOf=Xc,u.inRange=Lg,u.invoke=cg,u.isArguments=Bn,u.isArray=b,u.isArrayBuffer=Ld,u.isArrayLike=ht,u.isArrayLikeObject=J,u.isBoolean=Sd,u.isBuffer=An,u.isDate=Pd,u.isElement=bd,u.isEmpty=Cd,u.isEqual=Id,u.isEqualWith=Bd,u.isError=Or,u.isFinite=Ud,u.isFunction=un,u.isInteger=xs,u.isLength=_i,u.isMap=Es,u.isMatch=Dd,u.isMatchWith=Fd,u.isNaN=Od,u.isNative=Vd,u.isNil=Wd,u.isNull=Nd,u.isNumber=As,u.isObject=$,u.isObjectLike=z,u.isPlainObject=Re,u.isRegExp=Vr,u.isSafeInteger=Gd,u.isSet=Ts,u.isString=vi,u.isSymbol=Et,u.isTypedArray=kn,u.isUndefined=Xd,u.isWeakMap=Yd,u.isWeakSet=Hd,u.join=$c,u.kebabCase=Bg,u.last=Ut,u.lastIndexOf=zc,u.lowerCase=Ug,u.lowerFirst=Dg,u.lt=qd,u.lte=Kd,u.max=P0,u.maxBy=b0,u.mean=C0,u.meanBy=I0,u.min=B0,u.minBy=U0,u.stubArray=Kr,u.stubFalse=$r,u.stubObject=v0,u.stubString=x0,u.stubTrue=E0,u.multiply=D0,u.nth=Zc,u.noConflict=c0,u.noop=qr,u.now=wi,u.pad=Fg,u.padEnd=Og,u.padStart=Vg,u.parseInt=Ng,u.random=Sg,u.reduce=kh,u.reduceRight=jh,u.repeat=Wg,u.replace=Gg,u.result=_g,u.round=F0,u.runInContext=c,u.sample=nd,u.size=rd,u.snakeCase=Xg,u.some=od,u.sortedIndex=eh,u.sortedIndexBy=ih,u.sortedIndexOf=rh,u.sortedLastIndex=oh,u.sortedLastIndexBy=uh,u.sortedLastIndexOf=sh,u.startCase=Hg,u.startsWith=qg,u.subtract=O0,u.sum=V0,u.sumBy=N0,u.template=Kg,u.times=A0,u.toFinite=sn,u.toInteger=C,u.toLength=Ms,u.toLower=$g,u.toNumber=Dt,u.toSafeInteger=$d,u.toString=N,u.toUpper=zg,u.trim=Zg,u.trimEnd=Jg,u.trimStart=Qg,u.truncate=kg,u.unescape=jg,u.uniqueId=R0,u.upperCase=t0,u.upperFirst=Gr,u.each=cs,u.eachRight=hs,u.first=ss,Hr(u,function(){var t={};return qt(u,function(n,e){W.call(u.prototype,e)||(t[e]=n)}),t}(),{chain:!1}),u.VERSION=g,Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){u[t].placeholder=u}),Pt(["drop","take"],function(t,n){D.prototype[t]=function(e){e=e===o?1:j(C(e),0);var i=this.__filtered__&&!n?new D(this):this.clone();return i.__filtered__?i.__takeCount__=rt(e,i.__takeCount__):i.__views__.push({size:rt(e,Ht),type:t+(i.__dir__<0?"Right":"")}),i},D.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Pt(["filter","map","takeWhile"],function(t,n){var e=n+1,i=e==oo||e==Zs;D.prototype[t]=function(r){var s=this.clone();return s.__iteratees__.push({iteratee:y(r,3),type:e}),s.__filtered__=s.__filtered__||i,s}}),Pt(["head","last"],function(t,n){var e="take"+(n?"Right":"");D.prototype[t]=function(){return this[e](1).value()[0]}}),Pt(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");D.prototype[t]=function(){return this.__filtered__?new D(this):this[e](1)}}),D.prototype.compact=function(){return this.filter(gt)},D.prototype.find=function(t){return this.filter(t).head()},D.prototype.findLast=function(t){return this.reverse().find(t)},D.prototype.invokeMap=B(function(t,n){return typeof t=="function"?new D(this):this.map(function(e){return _e(e,t,n)})}),D.prototype.reject=function(t){return this.filter(mi(y(t)))},D.prototype.slice=function(t,n){t=C(t);var e=this;return e.__filtered__&&(t>0||n<0)?new D(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==o&&(n=C(n),e=n<0?e.dropRight(-n):e.take(n-t)),e)},D.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},D.prototype.toArray=function(){return this.take(Ht)},qt(D.prototype,function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),r=u[i?"take"+(n=="last"?"Right":""):n],s=i||/^find/.test(n);!r||(u.prototype[n]=function(){var a=this.__wrapped__,l=i?[1]:arguments,h=a instanceof D,_=l[0],v=h||b(a),x=function(U){var F=r.apply(u,wn([U],l));return i&&A?F[0]:F};v&&e&&typeof _=="function"&&_.length!=1&&(h=v=!1);var A=this.__chain__,M=!!this.__actions__.length,L=s&&!A,I=h&&!M;if(!s&&v){a=I?a:new D(this);var S=t.apply(a,l);return S.__actions__.push({func:di,args:[x],thisArg:o}),new Ct(S,A)}return L&&I?t.apply(this,l):(S=this.thru(x),L?i?S.value()[0]:S.value():S)})}),Pt(["pop","push","shift","sort","splice","unshift"],function(t){var n=Ne[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);u.prototype[t]=function(){var r=arguments;if(i&&!this.__chain__){var s=this.value();return n.apply(b(s)?s:[],r)}return this[e](function(a){return n.apply(b(a)?a:[],r)})}}),qt(D.prototype,function(t,n){var e=u[n];if(e){var i=e.name+"";W.call($n,i)||($n[i]=[]),$n[i].push({name:n,func:e})}}),$n[ui(o,st).name]=[{name:"wrapper",func:o}],D.prototype.clone=ja,D.prototype.reverse=tl,D.prototype.value=nl,u.prototype.at=bh,u.prototype.chain=Ch,u.prototype.commit=Ih,u.prototype.next=Bh,u.prototype.plant=Dh,u.prototype.reverse=Fh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Oh,u.prototype.first=u.prototype.head,ce&&(u.prototype[ce]=Uh),u},Hn=Ia();Mn?((Mn.exports=Hn)._=Hn,Yi._=Hn):et._=Hn}).call(Me)})(jr,jr.exports);var zt=jr.exports;function ye(d){return d*Math.PI/180}function Ai(d=window.gl.ARRAY_BUFFER,f,o=window.gl.STATIC_DRAW){const g=window.gl.createBuffer();window.gl.bindBuffer(d,g);var w=new Float32Array(f);return window.gl.bufferData(d,w,o),window.gl.bindBuffer(d,null),g}function to(d,f,o,g){var w=new Float32Array(g);window.gl.bindBuffer(f,d),window.gl.bufferSubData(f,o,w),window.gl.bindBuffer(f,null)}function Y0(d){const f=document.createElement("canvas");f.width=d.naturalWidth,f.height=d.naturalHeight;const o=f.getContext("2d");return o.scale(1,-1),o.translate(0,-d.height),o.drawImage(d,0,0,d.width,d.height,0,0,f.width,f.height),f}function Gs(d,f=!0){f&&(d=Y0(d));var o=window.gl.createTexture();return window.gl.bindTexture(window.gl.TEXTURE_2D,o),window.gl.bindTexture(window.gl.TEXTURE_2D,o),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_MAG_FILTER,window.gl.LINEAR),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_MIN_FILTER,window.gl.LINEAR),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_WRAP_S,window.gl.CLAMP_TO_EDGE),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_WRAP_T,window.gl.CLAMP_TO_EDGE),window.gl.texImage2D(window.gl.TEXTURE_2D,0,window.gl.RGBA,window.gl.RGBA,window.gl.UNSIGNED_BYTE,d),window.gl.generateMipmap(window.gl.TEXTURE_2D),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_MIN_FILTER,window.gl.LINEAR_MIPMAP_LINEAR),o}async function H0(d){let f=d/2,o=f,g=f;const w=document.createElement("canvas");w.width=d,w.height=d;const E=w.getContext("2d"),T=new Uint8ClampedArray(d*d*4);let Z=Math.sqrt(o*o+g*g);for(let O=0;O<d;++O)for(let G=0;G<d;++G){let ut=(O+G*d)*4;T[ut]=255,T[ut+1]=255,T[ut+2]=255;let Ft=o-O,Jt=g-G,nt=Math.sqrt(Ft*Ft+Jt*Jt),st=Math.pow(1-nt/Z,8);st=st>1?1:st,T[ut+3]=st*255}const yt=new ImageData(T,d,d);E.putImageData(yt,0,0);const mt=w.toDataURL("image/png"),Y=new Image;return Y.src=mt,new Promise((O,G)=>{Y.addEventListener("load",()=>{const ut=Gs(Y,!1);O(ut)})})}async function Ti(d,f){var o=new Image;return o.src=d,new Promise((g,w)=>{o.addEventListener("load",function(){const E=Gs(o,f);g(E)})})}async function q0(d,f,o){let g=$0(d,f,o),w=window.gl.createTexture();return window.gl.bindTexture(window.gl.TEXTURE_2D,w),window.gl.pixelStorei(window.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),window.gl.texImage2D(window.gl.TEXTURE_2D,0,window.gl.RGBA,window.gl.RGBA,window.gl.UNSIGNED_BYTE,g),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_MIN_FILTER,window.gl.NEAREST),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_WRAP_S,window.gl.CLAMP_TO_EDGE),window.gl.texParameteri(window.gl.TEXTURE_2D,window.gl.TEXTURE_WRAP_T,window.gl.CLAMP_TO_EDGE),w}async function K0(d){return await(await fetch(d)).text()}async function Ns(d){const f=await fetch(d).then(g=>g.text()),o=document.querySelector(".shaders");return o.innerHTML=o.innerHTML+f,d.replace(".html","").split("/").reverse()[0]}function $0(d,f,o){const g=document.createElement("canvas");var w=g.getContext("2d");return w.canvas.width=f,w.canvas.height=o,w.font="20px serif",w.textAlign="center",w.textBaseline="middle",w.fillStyle="black",w.clearRect(0,0,w.canvas.width,w.canvas.height),w.fillText(d,f/2,o/2),w.strokeText(d,f/2,o/2),g}var z0="./static/test.png";const ro=class{constructor(){this.mPosition=[0,0,0,1],this.mColor=[1,1,1,1],this.mTexcoord=[0,0,0,0],this.mNormal=[0,0,0,0]}setPosition(f,o,g,w=1){this.mPosition[0]=f,this.mPosition[1]=o,this.mPosition[2]=g,this.mPosition[3]=w}setColor(f,o,g,w=1){this.mColor[0]=f||1,this.mColor[1]=o||1,this.mColor[2]=g||1,this.mColor[3]=w}setTexcoord(f,o,g,w){this.mTexcoord[0]=f||0,this.mTexcoord[1]=o||0,this.mTexcoord[2]=g||0,this.mTexcoord[3]=w||0}setNormal(f,o,g,w){this.mNormal[0]=f||0,this.mNormal[1]=o||0,this.mNormal[2]=g||0,this.mNormal[3]=w||0}getData(){const o=[this.mPosition,this.mColor,this.mTexcoord,this.mNormal].flat();return ro.SIZE=Float32Array.BYTES_PER_ELEMENT*o.length,o}};let Tn=ro;Vs(Tn,"SIZE",0);class Ri{constructor(){this.vertexData=[]}setSize(f){this.vertexData=Array(f).fill(0).map(o=>new Tn)}setPosition(f,o,g,w,E=1){this.vertexData[f].setPosition(o,g,w,E)}setColor(f,o,g,w,E=1){this.vertexData[f].setColor(o,g,w,E)}setTexcoord(f,o,g){this.vertexData[f].setTexcoord(o,g)}setNormal(f,o,g,w,E){this.vertexData[f].setNormal(o,g,w,E)}getData(){return this.vertexData.map(o=>o.getData()).flat()}}const zr=Float32Array.BYTES_PER_ELEMENT;class ln{constructor(){this.mProgram=-1,this.mPositionLocation=-1,this.mColorLocation=-1,this.mTexcoordLocation=-1,this.mNormalLocation=-1,this.mMLocation=-1,this.mPLocation=-1,this.mVLocation=-1,this.mProjectionMatrix=null,this.mViewMatrix=null,this.mModelMatrix=null,this.mSlotIndex=0}async initStandardShader(f,o){let g=await Ns(f);console.log("debug vs_selector",g);let w=await Ns(o);console.log("debug fs_selector",w),this.mProgram=webglUtils.createProgramFromScripts(window.gl,[g,w]);const{mProgram:E}=this;this.mPositionLocation=window.gl.getAttribLocation(E,"position"),this.mColorLocation=window.gl.getAttribLocation(E,"color"),this.mTexcoordLocation=window.gl.getAttribLocation(E,"texcoord"),this.mNormalLocation=window.gl.getAttribLocation(E,"normal"),this.mMLocation=window.gl.getUniformLocation(E,"M"),this.mPLocation=window.gl.getUniformLocation(E,"P"),this.mVLocation=window.gl.getUniformLocation(E,"V"),this.mIT_MLocation=window.gl.getUniformLocation(E,"IT_ModelMatrix")}setMVP(f,o,g){const{mMLocation:w,mPLocation:E,mVLocation:T}=this;this.mModelMatrix=f,this.mViewMatrix=o,this.mProjectionMatrix=g,window.gl.uniformMatrix4fv(w,!1,f),window.gl.uniformMatrix4fv(T,!1,o),window.gl.uniformMatrix4fv(E,!1,g);let Z=m4.inverse(f);Z=m4.transpose(Z),this.mIT_MLocation&&window.gl.uniformMatrix4fv(this.mIT_MLocation,!1,Z)}setTexture(f,o){window.gl.activeTexture(window.gl.TEXTURE0+this.mSlotIndex),window.gl.bindTexture(window.gl.TEXTURE_2D,o),window.gl.uniform1i(window.gl.getUniformLocation(this.mProgram,f),this.mSlotIndex),this.mSlotIndex++}active(){this.mSlotIndex=0,window.gl.useProgram(this.mProgram),window.gl.enableVertexAttribArray(this.mPositionLocation),window.gl.vertexAttribPointer(this.mPositionLocation,4,window.gl.FLOAT,!1,Tn.SIZE,0),this.mColorLocation>0&&(window.gl.enableVertexAttribArray(this.mColorLocation),window.gl.vertexAttribPointer(this.mColorLocation,4,window.gl.FLOAT,!1,Tn.SIZE,zr*4)),this.mTexcoordLocation>0&&(window.gl.enableVertexAttribArray(this.mTexcoordLocation),window.gl.vertexAttribPointer(this.mTexcoordLocation,4,window.gl.FLOAT,!1,Tn.SIZE,zr*8)),this.mNormalLocation>0&&(window.gl.enableVertexAttribArray(this.mNormalLocation),window.gl.vertexAttribPointer(this.mNormalLocation,4,window.gl.FLOAT,!1,Tn.SIZE,zr*12))}unActive(){window.gl.useProgram(null),window.gl.bindTexture(window.gl.TEXTURE_2D,null)}}class Mi{constructor(){this.eventBus={}}active(){}update(){}render(){}unActive(){}onEvent(f){const{type:o}=f,g=this.eventBus[o];Array.isArray(g)&&g.forEach(w=>{w(f)})}addEventListener(f,o){this.eventBus[f]||(this.eventBus[f]=[]),this.eventBus[f].push(o)}}class Z0 extends Mi{constructor(f){super(),this.vbo=null,this.mShader=f,this.mTexture=null,this.mVertexBuffer=new Ri}async init(){this.mTexture=await Ti(z0),this.mVertexBuffer.setSize(1600);for(let o=0;o<20;++o){let g=100-o*10;for(let w=0;w<20;++w){let E=w*10-100,T=(w+o*20)*4;this.mVertexBuffer.setPosition(T,E,-1,g),this.mVertexBuffer.setPosition(T+1,E+10,-1,g),this.mVertexBuffer.setPosition(T+2,E,-1,g-10),this.mVertexBuffer.setPosition(T+3,E+10,-1,g-10),this.mVertexBuffer.setNormal(T,0,1,0),this.mVertexBuffer.setNormal(T+1,0,1,0),this.mVertexBuffer.setNormal(T+2,0,1,0),this.mVertexBuffer.setNormal(T+3,0,1,0),this.mVertexBuffer.setTexcoord(T,0,0),this.mVertexBuffer.setTexcoord(T+1,0,1),this.mVertexBuffer.setTexcoord(T+2,1,0),this.mVertexBuffer.setTexcoord(T+3,1,1),o%2^w%2?(this.mVertexBuffer.setColor(T,.9,.9,.9),this.mVertexBuffer.setColor(T+1,.9,.9,.9),this.mVertexBuffer.setColor(T+2,.9,.9,.9),this.mVertexBuffer.setColor(T+3,.9,.9,.9)):(this.mVertexBuffer.setColor(T,.1,.1,.1),this.mVertexBuffer.setColor(T+1,.1,.1,.1),this.mVertexBuffer.setColor(T+2,.1,.1,.1),this.mVertexBuffer.setColor(T+3,.1,.1,.1))}}const f=this.mVertexBuffer.getData();this.vbo=Ai(window.gl.ARRAY_BUFFER,f,window.gl.STATIC_DRAW)}active(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,this.vbo)}render(){for(let f=0;f<400;++f)window.gl.drawArrays(window.gl.TRIANGLE_STRIP,f*4,4)}unActive(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,null)}}const te={left:0,middle:1,right:2},Zr={mousedown:"mousedown",mouseup:"mouseup",mousemove:"mousemove"};class io extends Mi{constructor(){super(),this.vbo=null,this.mVertexBuffer=new Ri,this.mAmbientMaterial=[0,0,0,0],this.mDiffuseMaterial=[0,0,0,0],this.mSpecularMaterial=[0,0,0,0],this.sceneNode=null,this.leftMouseDown=!1,this.startPoint=null}async init(f,o){this.sceneNode=o;const g=[],w=[],E=[],T=[];(await K0(f)).split(`
`).forEach(Y=>{if(Y.startsWith("v")){if(Y.startsWith("v ")){let O=Y.replace("v ","").split(" ").filter(G=>G).map(G=>G.trim());O=O.map(G=>parseFloat(G)),g.push(O)}else if(Y.startsWith("vt ")){let O=Y.replace("vt ","").split(" ").filter(G=>G).map(G=>G.trim());O=O.map(G=>parseFloat(G)),w.push(O)}else if(Y.startsWith("vn ")){let O=Y.replace("vn ","").split(" ").filter(G=>G).map(G=>G.trim());O=O.map(G=>parseFloat(G)),E.push(O)}}else Y.startsWith("f ")&&Y.replace("f ","").split(" ").forEach(G=>{let[ut,Ft,Jt]=G.split("/").map(Lt=>parseInt(Lt)-1);const nt=g[ut];let st=w[Ft];const ne=E[Jt];nt&&ne&&st&&T.push({position:nt,texcoord:st,normal:ne})})}),this.mVertexBuffer.setSize(T.length),T.forEach((Y,O)=>{this.mVertexBuffer.setPosition(O,...Y.position),this.mVertexBuffer.setNormal(O,...Y.normal),this.mVertexBuffer.setTexcoord(O,...Y.texcoord)});const mt=this.mVertexBuffer.getData();this.vbo=Ai(window.gl.ARRAY_BUFFER,mt,window.gl.STATIC_DRAW)}update(f,o){this.sceneNode.mModelMatrix}active(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,this.vbo)}render(){window.gl.drawArrays(window.gl.TRIANGLES,0,this.mVertexBuffer.vertexData.length)}unActive(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,null)}}class J0{constructor(){this.next=null}add(f){this.next?this.next.add(f):this.next=f}}class cn extends J0{constructor(){super(),this.mModelMatrix=m4.identity(),this.mGeometry=null,this.mMaterial=null,this.inited=!1}init(f,o){this.mGeometry=f,this.mMaterial=o,this.inited=!0}update(f,o,g){this.inited&&this.mGeometry.update(f,o,g),this.next&&this.next.update(f,o,g)}onEvent(f){this.mGeometry&&this.mGeometry.onEvent(f),this.next&&this.next.onEvent(f)}render(f,o){this.inited&&(this.mGeometry.active(),this.mMaterial.setMat4("M",this.mModelMatrix),this.mMaterial.active(f,o),this.mGeometry.render(),this.mMaterial.unActive(),this.mGeometry.unActive()),this.next&&this.next.render(f,o)}}class Q0{constructor(){this.location=null,this.name="",this.vec4=null}}class k0{constructor(){this.location=null,this.name="",this.mat4=null}}class Ws{constructor(){this.location=null,this.name="",this.texture=null}}class hn{constructor(){this.mbEnableDepthTest=!0,this.mbEnableProgramablePointSize=!1,this.mbEnableBlend=!1,this.mSRCBlendFunc=window.gl.SRC_ALPHA,this.mDSTBlendFunc=window.gl.ONE_MINUS_SRC_ALPHA,this.depthMask=!0,this.cullFace=!0,this.shader=null,this.vec4PropertyMap={},this.mat4PropertyMap={},this.texturePropertyMap={},this.textureCubePropertyMap={}}init(f){this.shader=f}setVec4(f,o){let g=null;if(this.vec4PropertyMap[f])g=this.vec4PropertyMap[f];else{const w=window.gl.getUniformLocation(this.shader.mProgram,f);w instanceof WebGLUniformLocation&&(g=new Q0,g.location=w,g.name=f,this.vec4PropertyMap[f]=g)}g&&(g.vec4=o)}setMat4(f,o){let g=null;if(this.mat4PropertyMap[f])g=this.mat4PropertyMap[f];else{const w=window.gl.getUniformLocation(this.shader.mProgram,f);w instanceof WebGLUniformLocation&&(g=new k0,g.location=w,g.name=f,this.mat4PropertyMap[f]=g)}g&&(g.mat4=o)}setTexture(f,o){let g=null;if(this.texturePropertyMap[f])g=this.texturePropertyMap[f];else{const w=window.gl.getUniformLocation(this.shader.mProgram,f);w instanceof WebGLUniformLocation&&(g=new Ws,g.location=w,g.name=f,this.texturePropertyMap[f]=g)}g&&(g.texture=o)}setTextureCube(f,o){let g=null;if(this.textureCubePropertyMap[f])g=this.textureCubePropertyMap[f];else{const w=window.gl.getUniformLocation(this.shader.mProgram,f);w instanceof WebGLUniformLocation&&(g=new Ws,g.location=w,g.name=f,this.textureCubePropertyMap[f]=g)}g&&(g.texture=o)}active(f,o){this.mbEnableDepthTest?window.gl.enable(window.gl.DEPTH_TEST):window.gl.disable(window.gl.DEPTH_TEST),this.mbEnableBlend?(window.gl.enable(window.gl.BLEND),window.gl.blendFunc(this.mSRCBlendFunc,this.mDSTBlendFunc)):window.gl.disable(window.gl.BLEND),this.cullFace?window.gl.enable(window.gl.CULL_FACE):window.gl.disable(window.gl.CULL_FACE),window.gl.depthMask(this.depthMask),this.shader.active(),this.shader.setMVP(this.mat4PropertyMap.M.mat4,f,o),Object.values(this.mat4PropertyMap).forEach(w=>{window.gl.uniformMatrix4fv(w.location,!1,w.mat4)}),Object.values(this.vec4PropertyMap).forEach(w=>{w.location&&window.gl.uniform4fv(w.location,w.vec4)});let g=0;Object.values(this.texturePropertyMap).forEach(w=>{window.gl.activeTexture(window.gl.TEXTURE0+g),window.gl.bindTexture(window.gl.TEXTURE_2D,w.texture),window.gl.uniform1i(w.location,g)}),Object.values(this.textureCubePropertyMap).forEach(w=>{window.gl.activeTexture(window.gl.TEXTURE0+g),window.gl.bindTexture(window.gl.TEXTURE_CUBE_MAP,w.texture),window.gl.uniform1i(w.location,g)})}unActive(){this.shader.unActive()}}var j0="./static/f-texture.png",tw="./static/niutou.png";class nw{constructor(){this.speed=10,this.disabled=!1,this.originPoint={clientX:0,clientY:0},this.mPosition=[0,0,10],this.mViewCenter=[0,0,-1],this.mUp=[0,1,0],this.mbForward=!1,this.mbBackward=!1,this.mbLeft=!1,this.mbRight=!1,this.isRotateView=!1,this.isRotatePos=!1,this.mViewMatrix=m4.lookAt(this.mPosition,this.mViewCenter,this.mUp)}update(f){if(this.disabled)return;let o=this.speed,g=m4.subtractVectors(this.mViewCenter,this.mPosition);g=m4.normalize(g);let w=m4.cross(g,this.mUp);if(w=m4.normalize(w),this.mbForward){let E=m4.multiplyNumber(g,f*o);this.mPosition=m4.addVectors(this.mPosition,E),this.mViewCenter=m4.addVectors(this.mViewCenter,E)}if(this.mbBackward){let E=m4.multiplyNumber(g,f*o);this.mPosition=m4.subtractVectors(this.mPosition,E),this.mViewCenter=m4.subtractVectors(this.mViewCenter,E)}if(this.mbLeft){let E=m4.multiplyNumber(w,f*o);this.mPosition=m4.subtractVectors(this.mPosition,E),this.mViewCenter=m4.subtractVectors(this.mViewCenter,E)}if(this.mbRight){let E=m4.multiplyNumber(w,f*o);this.mPosition=m4.addVectors(this.mPosition,E),this.mViewCenter=m4.addVectors(this.mViewCenter,E)}this.mViewMatrix=m4.lookAt(this.mPosition,this.mViewCenter,this.mUp),this.save()}load(){let f=sessionStorage.getItem("camera");if(f){f=JSON.parse(f);const[o,g,w]=f;this.mPosition=o,this.mViewCenter=g,this.mUp=w}}save(){const f=[this.mPosition,this.mViewCenter,this.mUp],o=JSON.stringify(f);sessionStorage.setItem("camera",o)}yaw(f){const[o,g,w]=this.mUp;this.rotateView(f,o,g,w)}pitch(f){let o=m4.subtractVectors(this.mViewCenter,this.mPosition);o=m4.normalize(o);let g=m4.cross(o,this.mUp);g=m4.normalize(g);let[w,E,T]=g;this.rotateView(f,w,E,T)}moveCameraPos(){let f=0,o=0;this.mPosition=[f,o,7]}rotateView(f,o,g,w){let E=m4.subtractVectors(this.mViewCenter,this.mPosition),T=Math.cos(f),Z=Math.sin(f),yt=[T+o*o*(1-T),o*g*(1-T)-w*Z,o*w*(1-T)+g*Z],mt=[o*g*(1-T)+w*Z,T+g*g*(1-T),g*w*(1-T)-o*Z],Y=[o*w*(1-T)-g*Z,g*w*(1-T)+o*Z,T+w*w*(1-T)],O=[m4.multiplyVectors(yt,E),m4.multiplyVectors(mt,E),m4.multiplyVectors(Y,E)];this.mViewCenter=m4.addVectors(this.mPosition,O)}onMouseDownEvent(f){f.button===te.right?this.onMouseRightDown(f):f.button===te.middle&&this.onMouseMiddleDown(f)}onMouseUpEvent(f){f.button===te.right?this.onMouseRightUp(f):f.button===te.middle&&this.onMouseMiddleUp(f)}onMouseRightDown(f){this.originPoint.clientX=f.clientX,this.originPoint.clientY=f.clientY,this.isRotateView=!0}onMouseRightUp(f){this.originPoint.clientX=f.clientX,this.originPoint.clientY=f.clientY,this.isRotateView=!1}onMouseMiddleDown(f){this.originPoint.clientX=f.clientX,this.originPoint.clientY=f.clientY,this.isRotatePos=!0}onMouseMiddleUp(f){this.originPoint.clientX=f.clientX,this.originPoint.clientY=f.clientY,this.isRotatePos=!1}onMouseMoveEvent(f){if(this.isRotateView){let o=f.clientX-this.originPoint.clientX,w=(f.clientY-this.originPoint.clientY)/1e3,E=o/1e3;this.yaw(E),this.pitch(w),this.originPoint.clientX=f.clientX,this.originPoint.clientY=f.clientY}else if(this.isRotatePos){let o=f.clientX-this.originPoint.clientX,w=(f.clientY-this.originPoint.clientY)/1e4,E=o/1e4;const T=m4.xRotation(-w),Z=m4.yRotation(-E);this.mPosition=m4.transformPoint(T,this.mPosition),this.mPosition=m4.transformPoint(Z,this.mPosition)}}inKeyEvent(f){const{key:o,type:g}=f,w=g==="keydown";o==="w"&&(this.mbForward=w),o==="s"&&(this.mbBackward=w),o==="a"&&(this.mbLeft=w),o==="d"&&(this.mbRight=w)}disable(){this.disabled=!0}enable(){this.disabled=!1}}class ew extends Mi{constructor(){super(),this.mVertexBuffer=new Ri,this.mVbo=0,this.mParticleCount=0}init(f){this.mParticleCount=f,this.mVertexBuffer.setSize(f);for(let g=0;g<f;++g)this.mVertexBuffer.setPosition(g,zt.random(-100,100,!0),zt.random(-100,100,!0),zt.random(-100,100,!0)),this.mVertexBuffer.setColor(g,zt.random(.1,.9,!0),zt.random(.1,.9,!0),zt.random(.1,.9,!0));console.log("debug this.mVertexBuffer",this.mVertexBuffer);const o=this.mVertexBuffer.getData();this.mVbo=Ai(window.gl.ARRAY_BUFFER,o,window.gl.STATIC_DRAW)}active(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,this.mVbo)}render(){window.gl.drawArrays(window.gl.POINTS,0,this.mParticleCount)}update(f,o,g){for(let E=0;E<this.mParticleCount;++E){let T=this.mVertexBuffer.vertexData[E].mPosition[0],Z=this.mVertexBuffer.vertexData[E].mPosition[1],yt=this.mVertexBuffer.vertexData[E].mPosition[2],mt=[-3,3];this.mVertexBuffer.setPosition(E,T+zt.random(...mt,!0)*g,Z+zt.random(...mt,!0)*g,yt+zt.random(...mt,!0)*g,1)}const w=this.mVertexBuffer.getData();to(this.mVbo,window.gl.ARRAY_BUFFER,0,w)}unActive(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,null)}}class no extends Mi{constructor(){super(),this.vbo=null,this.mVertexBuffer=new Ri,this.mVertexBuffer.setSize(4),this.mVertexBuffer.setTexcoord(0,0,1),this.mVertexBuffer.setTexcoord(1,1,1),this.mVertexBuffer.setTexcoord(2,0,0),this.mVertexBuffer.setTexcoord(3,1,0),this.mVertexBuffer.setColor(0,1,1,1),this.mVertexBuffer.setColor(1,1,1,1),this.mVertexBuffer.setColor(2,1,1,1),this.mVertexBuffer.setColor(3,1,1,1);const f=this.mVertexBuffer.getData();this.vbo=Ai(window.gl.ARRAY_BUFFER,f,window.gl.STATIC_DRAW)}setColor(f,o,g){this.mVertexBuffer.setColor(0,f,o,g),this.mVertexBuffer.setColor(1,f,o,g),this.mVertexBuffer.setColor(2,f,o,g),this.mVertexBuffer.setColor(3,f,o,g);const w=this.mVertexBuffer.getData();to(this.vbo,window.gl.ARRAY_BUFFER,0,w)}setSize(f,o){this.mVertexBuffer.setPosition(0,-f/2,-o/2,-.2),this.mVertexBuffer.setPosition(1,f/2,-o/2,-.2),this.mVertexBuffer.setPosition(2,-f/2,o/2,-.2),this.mVertexBuffer.setPosition(3,f/2,o/2,-.2);const g=this.mVertexBuffer.getData();to(this.vbo,window.gl.ARRAY_BUFFER,0,g)}active(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,this.vbo)}render(){window.gl.drawArrays(window.gl.TRIANGLE_STRIP,0,4)}unActive(){window.gl.bindBuffer(window.gl.ARRAY_BUFFER,null)}}class iw{constructor(){this.sceneNode=null,this.mGeometry=null,this.mMaterial=null,this.uiRootScene=null,this.rootScene=null}static create(...f){return new this(...f)}}class rw extends iw{constructor(f,o,g,w){console.log("debug x,y, width, height",f,o,g,w),super(),this.x=f,this.y=o,this.w=g,this.h=w,this.padding=5,this.mousedown=!1,this.textNode=null,this.mModelMatrix=m4.identity()}async init(f){this.uiRootScene=f,this.mModelMatrix=m4.translate(this.mModelMatrix,this.x-window.gl.canvas.width/2+this.w/2,-this.y+window.gl.canvas.height/2-this.h/2,0),await this.initSpriteMaterial(),await this.initSprite(),await this.initText(),this.bindEvent(),this.uiRootScene.add(this.sceneNode),this.uiRootScene.add(this.textNode)}isInRect(f){const{offsetX:o,offsetY:g}=f;let w=o>=this.x&&o<=this.x+this.w,E=g>=this.y&&g<=this.y+this.h;return w&&E}bindEvent(){this.mGeometry.addEventListener("mousedown",f=>{this.mousedown=!0,this.isInRect(f)&&this.mGeometry.setColor(.5,.5,.5)}),this.mGeometry.addEventListener("mousemove",f=>{this.isInRect(f)?this.mGeometry.setColor(.8,.8,.8):this.mGeometry.setColor(1,1,1)}),this.mGeometry.addEventListener("mouseup",f=>{this.mousedown=!1,this.mGeometry.setColor(1,1,1)})}async initSpriteMaterial(){let f=new ln;await f.initStandardShader("/shaders/button.vs.html","/shaders/button.fs.html"),this.mMaterial=new hn,this.mMaterial.init(f),this.mMaterial.mbEnableBlend=!0,this.mMaterial.mbEnableDepthTest=!1,this.mMaterial.mDSTBlendFunc=window.gl.ONE_MINUS_SRC_ALPHA}async initSprite(){this.mGeometry=new no,this.mGeometry.setSize(this.w,this.h),this.sceneNode=new cn,this.sceneNode.mModelMatrix=this.mModelMatrix,this.sceneNode.init(this.mGeometry,this.mMaterial)}async initText(){let f=new ln;await f.initStandardShader("/shaders/text.vs.html","/shaders/text.fs.html");let o=new hn;o.mbEnableBlend=!0,o.mSRCBlendFunc=window.gl.ONE,o.mDSTBlendFunc=window.gl.ONE_MINUS_SRC_ALPHA,o.init(f),o.depthMask=!1;let g=await q0("\u6309\u94AE",this.w+this.padding,this.h+this.padding);o.setTexture("U_texture",g),this.mText=new no,this.mText.setSize(this.w,this.h);let w=new cn;w.mModelMatrix=this.mModelMatrix,w.init(this.mText,o),this.textNode=w}}window.gl.canvas.clientWidth;window.gl.canvas.clientHeight;let Jr,pt=new nw,ow=[0,0,0],Xs=[0,3,0,1],an,Rt,Zt,Qr,Un,Dn,wt=null,Mt=new cn;var uw=ye(45),eo=m4.identity(),Ei=m4.identity(),Ys=m4.identity(),sw=m4.identity();m4.identity();function Le(d){wt?wt.add(d):wt=d}function fw(d){Mt?Mt.add(d):Mt=d}async function aw(){let d=new ln;await d.initStandardShader("/shaders/point_light.vs.html","/shaders/point_light.fs.html");let f=new hn;f.init(d),f.setVec4("U_AmbientLightColor",[.1,.1,.1,1]),f.setVec4("U_AmbientMaterial",[.1,.1,.1,1]),f.setVec4("U_DiffuseLightColor",[.1,.4,.7,1]),f.setVec4("U_DiffuseMaterial",[.9,.9,.9,1]),f.setVec4("U_DiffuseMaterial",[.9,.9,.9,1]);const o=new Z0;await o.init();const g=new cn;g.init(o,f),g.mModelMatrix=m4.translation(0,-1.5,0),Le(g)}async function lw(){let d=new ln;await d.initStandardShader("/shaders/point_light.vs.html","/shaders/point_light.fs.html"),an=new hn,an.init(d),an.setVec4("U_AmbientLightColor",[.1,.1,.1,1]),an.setVec4("U_AmbientMaterial",[.1,.1,.1,1]),an.setVec4("U_DiffuseLightColor",[.1,.4,.7,1]),an.setVec4("U_DiffuseMaterial",[.9,.9,.9,1]),an.setVec4("U_DiffuseMaterial",[.9,.9,.9,1]),an.setVec4("U_CameraPosition",[...pt.mPosition,1]),an.setVec4("U_LightPos",Xs)}async function cw(){Qr=new ew,Qr.init(1e3);const d=new cn;d.mModelMatrix=m4.translation(0,0,0),d.init(Qr,Un),Le(d)}async function hw(){let d=new ln;await d.initStandardShader("/shaders/particle.vs.html","/shaders/particle.fs.html"),Un=new hn,Un.init(d),Un.mbEnableBlend=!0;const f=await H0(128);Un.setTexture("U_texture",f),Un.mbEnableProgramablePointSize=!0,Un.mbEnableDepthTest=!1}async function dw(){const d=await Ti(tw);let f=new ln;await f.initStandardShader("/shaders/light_color.vs.html","/shaders/light_color.fs.html"),Rt=new hn,Rt.init(f),Rt.setVec4("U_LightPos",[0,1,0,0]),Rt.setVec4("U_CameraPos",[...ow,1]),Rt.setVec4("U_AmbientLight",[.7,.7,.7,1]),Rt.setVec4("U_AmbientMaterial",[.8,.8,.8,1]),Rt.setVec4("U_DiffuseLight",[1,1,1,1]),Rt.setVec4("U_DiffuseMaterial",[.1,.4,.7,1]),Rt.setVec4("U_SpecularMaterial",[1,1,1,1]),Rt.setVec4("U_SpecularLight",[1,1,1,1]),Rt.setVec4("U_Setting",[1,4,0,0]),Rt.setTexture("U_texture",d)}async function gw(){let d=new ln,f=await Ti("/static/earth.bmp");await d.initStandardShader("/shaders/point_light_texture.vs.html","/shaders/point_light_texture.fs.html"),Zt=new hn,Zt.init(d),Zt.init(d),Zt.setVec4("U_AmbientLightColor",[.1,.1,.1,1]),Zt.setVec4("U_AmbientMaterial",[.1,.1,.1,1]),Zt.setVec4("U_DiffuseLightColor",[.9,.9,.9,1]),Zt.setVec4("U_DiffuseMaterial",[.9,.9,.9,1]),Zt.setVec4("U_LightPos",Xs),Zt.setTexture("U_texture",f)}async function ww(){let d=new ln;await d.initStandardShader("/shaders/sprite.vs.html","/shaders/sprite.fs.html"),Dn=new hn,Dn.init(d),Dn.mbEnableBlend=!0,Dn.mbEnableDepthTest=!1,Dn.mDSTBlendFunc=window.gl.ONE_MINUS_SRC_ALPHA;let f=await Ti(j0,!1);Dn.setTexture("U_texture",f)}async function pw(){Jr=new io;const d=new cn;await Jr.init("/static/niutou.obj",d),d.init(Jr,Rt);const f=d.mModelMatrix;m4.multiply(d.mModelMatrix,m4.translation(3,-1,-8),d.mModelMatrix),m4.multiply(d.mModelMatrix,m4.scaling(.025,.025,.025),f),m4.multiply(d.mModelMatrix,m4.yRotation(ye(-90)),d.mModelMatrix),d.mModelMatrix=f,Le(d)}async function mw(){let d=new ln;await d.initStandardShader("/shaders/specular.vs.html","/shaders/specular.fs.html");let f=new hn;f.init(d),f.setVec4("U_AmbientLight",[.1,.1,.1,1]),f.setVec4("U_AmbientMaterial",[.1,.1,.1,1]),f.setVec4("U_DiffuseLight",[.7,.7,.7,1]),f.setVec4("U_DiffuseMaterial",[.4,.4,.4,1]),f.setVec4("U_CameraPosition",[...pt.mPosition,1]),f.setVec4("U_SpecularMaterial",[.4,.4,.4,1]),f.setVec4("U_SpecularLight",[.9,.9,.9,1]),f.setVec4("U_LightPosition",[3,3,3,0]);let o=new io;const g=new cn;await o.init("/static/Sphere.obj",g),g.mModelMatrix=m4.translation(-3.5,-1,-6),g.init(o,f),Le(g)}async function _w(){let d=new io;const f=new cn;await d.init("/static/Sphere.obj",f),f.mModelMatrix=m4.translation(-1.5,-1,-6),m4.multiply(f.mModelMatrix,m4.yRotation(ye(50)),f.mModelMatrix),f.init(d,Zt),Le(f),d.addEventListener(Zr.mousedown,o=>{o.button===te.left&&(d.leftMouseDown=!0,d.startPoint=o)}),d.addEventListener(Zr.mouseup,o=>{o.button===te.left&&(d.leftMouseDown=!1)}),d.addEventListener(Zr.mousemove,o=>{if(d.leftMouseDown){const{clientX:g,clientY:w}=o,{clientX:E,clientY:T}=d.startPoint;let Z=g-E,yt=w-T,mt=Z/window.gl.canvas.width*10,Y=yt/window.gl.canvas.height*10;m4.multiply(f.mModelMatrix,m4.yRotation(ye(mt)),f.mModelMatrix),m4.multiply(f.mModelMatrix,m4.xRotation(ye(Y)),f.mModelMatrix)}})}async function vw(){let d=new no;d.setSize(30,30);const f=new cn;f.init(d,Dn),f.mModelMatrix=m4.translation(-350,250,0),fw(f)}function xw(){window.gl.canvas.addEventListener("mousemove",d=>{pt.onMouseMoveEvent(d),Mt.onEvent(d),wt.onEvent(d)}),window.gl.canvas.addEventListener("mousedown",d=>{pt.onMouseDownEvent(d),Mt.onEvent(d),wt.onEvent(d)}),window.gl.canvas.addEventListener("mouseup",d=>{pt.onMouseUpEvent(d),Mt.onEvent(d),wt.onEvent(d)}),window.gl.canvas.addEventListener("mouseover",d=>{Mt.onEvent(d),wt.onEvent(d)}),window.gl.canvas.addEventListener("mouseout",d=>{Mt.onEvent(d),wt.onEvent(d)}),window.addEventListener("keydown",d=>{pt.inKeyEvent(d),Mt.onEvent(d),wt.onEvent(d)}),window.addEventListener("keyup",d=>{pt.inKeyEvent(d),Mt.onEvent(d),wt.onEvent(d)})}async function Ew(){webglUtils.resizeCanvasToDisplaySize(window.gl.canvas),Tw(),xw(),window.gl.viewport(0,0,window.gl.canvas.width,window.gl.canvas.height),eo=m4.perspective(uw,window.gl.canvas.clientWidth/window.gl.canvas.clientHeight,1,4e3),Ys=m4.orthographic(-window.gl.canvas.clientWidth/2,window.gl.canvas.clientWidth/2,-window.gl.canvas.clientHeight/2,window.gl.canvas.clientHeight/2,200,-400),Ei=pt.mViewMatrix,await rw.create(100,20,50,30).init(Mt),await hw(),await gw(),await lw(),await dw(),await ww(),await mw(),await cw(),await _w(),await pw(),await vw(),await aw()}const Aw=document.querySelector.bind(document);function Tw(){const d=Aw(".camera-lock");let f=localStorage.getItem("cameraLock")||"false";f=JSON.parse(f),d.checked=f,f?pt.disable():pt.enable(),d.addEventListener("change",o=>{const g=o.target.checked;g?pt.disable():pt.enable(),localStorage.setItem("cameraLock",g)})}async function Rw(d){window.gl.enable(window.gl.CULL_FACE),window.gl.enable(window.gl.DEPTH_TEST),window.gl.clearColor(.1,.1,.1,1),window.gl.clear(window.gl.COLOR_BUFFER_BIT|window.gl.DEPTH_BUFFER_BIT),pt.update(d),Ei=pt.mViewMatrix,wt&&wt.update(Ei,eo,d),wt&&wt.render(Ei,eo),Mt&&Mt.render(sw,Ys)}window._=zt;let kr=0;function Mw(){return new Promise(d=>{window.t=requestAnimationFrame(()=>d())})}function yw(){let d=Number(new Date),f=kr===0?0:d-kr;return kr=d,f/1e3}async function Lw(){window.t&&cancelAnimationFrame(window.t),await Ew();async function d(){await Mw();const f=yw();await Rw(f),await d()}d()}Lw();
